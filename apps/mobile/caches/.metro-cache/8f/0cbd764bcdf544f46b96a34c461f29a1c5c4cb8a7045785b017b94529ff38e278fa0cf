{"dependencies":[{"name":"../../constants.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":50,"index":50}}],"key":"0LIA5DrINmAZiA+WxylNrkCajGU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return createExtensionPattern;\n    }\n  });\n  var _constantsJs = require(_dependencyMap[0], \"../../constants.js\");\n  // The RFC 3966 format for extensions.\n  var RFC3966_EXTN_PREFIX = ';ext=';\n\n  /**\r\n   * Helper method for constructing regular expressions for parsing. Creates\r\n   * an expression that captures up to max_length digits.\r\n   * @return {string} RegEx pattern to capture extension digits.\r\n   */\n  var getExtensionDigitsPattern = function getExtensionDigitsPattern(maxLength) {\n    return \"([\".concat(_constantsJs.VALID_DIGITS, \"]{1,\").concat(maxLength, \"})\");\n  };\n\n  /**\r\n   * Helper initialiser method to create the regular-expression pattern to match\r\n   * extensions.\r\n   * Copy-pasted from Google's `libphonenumber`:\r\n   * https://github.com/google/libphonenumber/blob/55b2646ec9393f4d3d6661b9c82ef9e258e8b829/javascript/i18n/phonenumbers/phonenumberutil.js#L759-L766\r\n   * @return {string} RegEx pattern to capture extensions.\r\n   */\n  function createExtensionPattern(purpose) {\n    // We cap the maximum length of an extension based on the ambiguity of the way\n    // the extension is prefixed. As per ITU, the officially allowed length for\n    // extensions is actually 40, but we don't support this since we haven't seen real\n    // examples and this introduces many false interpretations as the extension labels\n    // are not standardized.\n    /** @type {string} */\n    var extLimitAfterExplicitLabel = '20';\n    /** @type {string} */\n    var extLimitAfterLikelyLabel = '15';\n    /** @type {string} */\n    var extLimitAfterAmbiguousChar = '9';\n    /** @type {string} */\n    var extLimitWhenNotSure = '6';\n\n    /** @type {string} */\n    var possibleSeparatorsBetweenNumberAndExtLabel = \"[ \\xA0\\\\t,]*\";\n    // Optional full stop (.) or colon, followed by zero or more spaces/tabs/commas.\n    /** @type {string} */\n    var possibleCharsAfterExtLabel = \"[:\\\\.\\uFF0E]?[ \\xA0\\\\t,-]*\";\n    /** @type {string} */\n    var optionalExtnSuffix = \"#?\";\n\n    // Here the extension is called out in more explicit way, i.e mentioning it obvious\n    // patterns like \"ext.\".\n    /** @type {string} */\n    var explicitExtLabels = \"(?:e?xt(?:ensi(?:o\\u0301?|\\xF3))?n?|\\uFF45?\\uFF58\\uFF54\\uFF4E?|\\u0434\\u043E\\u0431|anexo)\";\n    // One-character symbols that can be used to indicate an extension, and less\n    // commonly used or more ambiguous extension labels.\n    /** @type {string} */\n    var ambiguousExtLabels = \"(?:[x\\uFF58#\\uFF03~\\uFF5E]|int|\\uFF49\\uFF4E\\uFF54)\";\n    // When extension is not separated clearly.\n    /** @type {string} */\n    var ambiguousSeparator = \"[- ]+\";\n    // This is the same as possibleSeparatorsBetweenNumberAndExtLabel, but not matching\n    // comma as extension label may have it.\n    /** @type {string} */\n    var possibleSeparatorsNumberExtLabelNoComma = \"[ \\xA0\\\\t]*\";\n    // \",,\" is commonly used for auto dialling the extension when connected. First\n    // comma is matched through possibleSeparatorsBetweenNumberAndExtLabel, so we do\n    // not repeat it here. Semi-colon works in Iphone and Android also to pop up a\n    // button with the extension number following.\n    /** @type {string} */\n    var autoDiallingAndExtLabelsFound = \"(?:,{2}|;)\";\n\n    /** @type {string} */\n    var rfcExtn = RFC3966_EXTN_PREFIX + getExtensionDigitsPattern(extLimitAfterExplicitLabel);\n    /** @type {string} */\n    var explicitExtn = possibleSeparatorsBetweenNumberAndExtLabel + explicitExtLabels + possibleCharsAfterExtLabel + getExtensionDigitsPattern(extLimitAfterExplicitLabel) + optionalExtnSuffix;\n    /** @type {string} */\n    var ambiguousExtn = possibleSeparatorsBetweenNumberAndExtLabel + ambiguousExtLabels + possibleCharsAfterExtLabel + getExtensionDigitsPattern(extLimitAfterAmbiguousChar) + optionalExtnSuffix;\n    /** @type {string} */\n    var americanStyleExtnWithSuffix = ambiguousSeparator + getExtensionDigitsPattern(extLimitWhenNotSure) + \"#\";\n\n    /** @type {string} */\n    var autoDiallingExtn = possibleSeparatorsNumberExtLabelNoComma + autoDiallingAndExtLabelsFound + possibleCharsAfterExtLabel + getExtensionDigitsPattern(extLimitAfterLikelyLabel) + optionalExtnSuffix;\n    /** @type {string} */\n    var onlyCommasExtn = possibleSeparatorsNumberExtLabelNoComma + \"(?:,)+\" + possibleCharsAfterExtLabel + getExtensionDigitsPattern(extLimitAfterAmbiguousChar) + optionalExtnSuffix;\n\n    // The first regular expression covers RFC 3966 format, where the extension is added\n    // using \";ext=\". The second more generic where extension is mentioned with explicit\n    // labels like \"ext:\". In both the above cases we allow more numbers in extension than\n    // any other extension labels. The third one captures when single character extension\n    // labels or less commonly used labels are used. In such cases we capture fewer\n    // extension digits in order to reduce the chance of falsely interpreting two\n    // numbers beside each other as a number + extension. The fourth one covers the\n    // special case of American numbers where the extension is written with a hash\n    // at the end, such as \"- 503#\". The fifth one is exclusively for extension\n    // autodialling formats which are used when dialling and in this case we accept longer\n    // extensions. The last one is more liberal on the number of commas that acts as\n    // extension labels, so we have a strict cap on the number of digits in such extensions.\n    return rfcExtn + \"|\" + explicitExtn + \"|\" + ambiguousExtn + \"|\" + americanStyleExtnWithSuffix + \"|\" + autoDiallingExtn + \"|\" + onlyCommasExtn;\n  }\n});","lineCount":106,"map":[[7,2,22,15,"Object"],[7,8,22,15],[7,9,22,15,"defineProperty"],[7,23,22,15],[7,24,22,15,"exports"],[7,31,22,15],[8,4,22,15,"enumerable"],[8,14,22,15],[9,4,22,15,"get"],[9,7,22,15],[9,18,22,15,"get"],[9,19,22,15],[10,6,22,15],[10,13,22,15,"createExtensionPattern"],[10,35,22,15],[11,4,22,15],[12,2,22,15],[13,2,1,0],[13,6,1,0,"_constantsJs"],[13,18,1,0],[13,21,1,0,"require"],[13,28,1,0],[13,29,1,0,"_dependencyMap"],[13,43,1,0],[14,2,3,0],[15,2,4,0],[15,6,4,4,"RFC3966_EXTN_PREFIX"],[15,25,4,23],[15,28,4,26],[15,35,4,33],[17,2,6,0],[18,0,7,0],[19,0,8,0],[20,0,9,0],[21,0,10,0],[22,2,11,0],[22,6,11,4,"getExtensionDigitsPattern"],[22,31,11,29],[22,34,11,32],[22,43,11,41,"getExtensionDigitsPattern"],[22,68,11,66,"getExtensionDigitsPattern"],[22,69,11,67,"maxLength"],[22,78,11,76],[22,80,11,78],[23,4,12,2],[23,11,12,9],[23,15,12,13],[23,16,12,14,"concat"],[23,22,12,20],[23,23,12,21,"VALID_DIGITS"],[23,35,12,33],[23,36,12,33,"VALID_DIGITS"],[23,48,12,33],[23,50,12,35],[23,56,12,41],[23,57,12,42],[23,58,12,43,"concat"],[23,64,12,49],[23,65,12,50,"maxLength"],[23,74,12,59],[23,76,12,61],[23,80,12,65],[23,81,12,66],[24,2,13,0],[24,3,13,1],[26,2,15,0],[27,0,16,0],[28,0,17,0],[29,0,18,0],[30,0,19,0],[31,0,20,0],[32,0,21,0],[33,2,22,15],[33,11,22,24,"createExtensionPattern"],[33,33,22,46,"createExtensionPattern"],[33,34,22,47,"purpose"],[33,41,22,54],[33,43,22,56],[34,4,23,2],[35,4,24,2],[36,4,25,2],[37,4,26,2],[38,4,27,2],[39,4,28,2],[40,4,29,2],[40,8,29,6,"extLimitAfterExplicitLabel"],[40,34,29,32],[40,37,29,35],[40,41,29,39],[41,4,30,2],[42,4,31,2],[42,8,31,6,"extLimitAfterLikelyLabel"],[42,32,31,30],[42,35,31,33],[42,39,31,37],[43,4,32,2],[44,4,33,2],[44,8,33,6,"extLimitAfterAmbiguousChar"],[44,34,33,32],[44,37,33,35],[44,40,33,38],[45,4,34,2],[46,4,35,2],[46,8,35,6,"extLimitWhenNotSure"],[46,27,35,25],[46,30,35,28],[46,33,35,31],[48,4,37,2],[49,4,38,2],[49,8,38,6,"possibleSeparatorsBetweenNumberAndExtLabel"],[49,50,38,48],[49,53,38,51],[49,67,38,65],[50,4,39,2],[51,4,40,2],[52,4,41,2],[52,8,41,6,"possibleCharsAfterExtLabel"],[52,34,41,32],[52,37,41,35],[52,65,41,63],[53,4,42,2],[54,4,43,2],[54,8,43,6,"optionalExtnSuffix"],[54,26,43,24],[54,29,43,27],[54,33,43,31],[56,4,45,2],[57,4,46,2],[58,4,47,2],[59,4,48,2],[59,8,48,6,"explicitExtLabels"],[59,25,48,23],[59,28,48,26],[59,118,48,116],[60,4,49,2],[61,4,50,2],[62,4,51,2],[63,4,52,2],[63,8,52,6,"ambiguousExtLabels"],[63,26,52,24],[63,29,52,27],[63,81,52,79],[64,4,53,2],[65,4,54,2],[66,4,55,2],[66,8,55,6,"ambiguousSeparator"],[66,26,55,24],[66,29,55,27],[66,36,55,34],[67,4,56,2],[68,4,57,2],[69,4,58,2],[70,4,59,2],[70,8,59,6,"possibleSeparatorsNumberExtLabelNoComma"],[70,47,59,45],[70,50,59,48],[70,63,59,61],[71,4,60,2],[72,4,61,2],[73,4,62,2],[74,4,63,2],[75,4,64,2],[76,4,65,2],[76,8,65,6,"autoDiallingAndExtLabelsFound"],[76,37,65,35],[76,40,65,38],[76,52,65,50],[78,4,67,2],[79,4,68,2],[79,8,68,6,"rfcExtn"],[79,15,68,13],[79,18,68,16,"RFC3966_EXTN_PREFIX"],[79,37,68,35],[79,40,68,38,"getExtensionDigitsPattern"],[79,65,68,63],[79,66,68,64,"extLimitAfterExplicitLabel"],[79,92,68,90],[79,93,68,91],[80,4,69,2],[81,4,70,2],[81,8,70,6,"explicitExtn"],[81,20,70,18],[81,23,70,21,"possibleSeparatorsBetweenNumberAndExtLabel"],[81,65,70,63],[81,68,70,66,"explicitExtLabels"],[81,85,70,83],[81,88,70,86,"possibleCharsAfterExtLabel"],[81,114,70,112],[81,117,70,115,"getExtensionDigitsPattern"],[81,142,70,140],[81,143,70,141,"extLimitAfterExplicitLabel"],[81,169,70,167],[81,170,70,168],[81,173,70,171,"optionalExtnSuffix"],[81,191,70,189],[82,4,71,2],[83,4,72,2],[83,8,72,6,"ambiguousExtn"],[83,21,72,19],[83,24,72,22,"possibleSeparatorsBetweenNumberAndExtLabel"],[83,66,72,64],[83,69,72,67,"ambiguousExtLabels"],[83,87,72,85],[83,90,72,88,"possibleCharsAfterExtLabel"],[83,116,72,114],[83,119,72,117,"getExtensionDigitsPattern"],[83,144,72,142],[83,145,72,143,"extLimitAfterAmbiguousChar"],[83,171,72,169],[83,172,72,170],[83,175,72,173,"optionalExtnSuffix"],[83,193,72,191],[84,4,73,2],[85,4,74,2],[85,8,74,6,"americanStyleExtnWithSuffix"],[85,35,74,33],[85,38,74,36,"ambiguousSeparator"],[85,56,74,54],[85,59,74,57,"getExtensionDigitsPattern"],[85,84,74,82],[85,85,74,83,"extLimitWhenNotSure"],[85,104,74,102],[85,105,74,103],[85,108,74,106],[85,111,74,109],[87,4,76,2],[88,4,77,2],[88,8,77,6,"autoDiallingExtn"],[88,24,77,22],[88,27,77,25,"possibleSeparatorsNumberExtLabelNoComma"],[88,66,77,64],[88,69,77,67,"autoDiallingAndExtLabelsFound"],[88,98,77,96],[88,101,77,99,"possibleCharsAfterExtLabel"],[88,127,77,125],[88,130,77,128,"getExtensionDigitsPattern"],[88,155,77,153],[88,156,77,154,"extLimitAfterLikelyLabel"],[88,180,77,178],[88,181,77,179],[88,184,77,182,"optionalExtnSuffix"],[88,202,77,200],[89,4,78,2],[90,4,79,2],[90,8,79,6,"onlyCommasExtn"],[90,22,79,20],[90,25,79,23,"possibleSeparatorsNumberExtLabelNoComma"],[90,64,79,62],[90,67,79,65],[90,75,79,73],[90,78,79,76,"possibleCharsAfterExtLabel"],[90,104,79,102],[90,107,79,105,"getExtensionDigitsPattern"],[90,132,79,130],[90,133,79,131,"extLimitAfterAmbiguousChar"],[90,159,79,157],[90,160,79,158],[90,163,79,161,"optionalExtnSuffix"],[90,181,79,179],[92,4,81,2],[93,4,82,2],[94,4,83,2],[95,4,84,2],[96,4,85,2],[97,4,86,2],[98,4,87,2],[99,4,88,2],[100,4,89,2],[101,4,90,2],[102,4,91,2],[103,4,92,2],[104,4,93,2],[104,11,93,9,"rfcExtn"],[104,18,93,16],[104,21,93,19],[104,24,93,22],[104,27,93,25,"explicitExtn"],[104,39,93,37],[104,42,93,40],[104,45,93,43],[104,48,93,46,"ambiguousExtn"],[104,61,93,59],[104,64,93,62],[104,67,93,65],[104,70,93,68,"americanStyleExtnWithSuffix"],[104,97,93,95],[104,100,93,98],[104,103,93,101],[104,106,93,104,"autoDiallingExtn"],[104,122,93,120],[104,125,93,123],[104,128,93,126],[104,131,93,129,"onlyCommasExtn"],[104,145,93,143],[105,2,94,0],[106,0,94,1],[106,3]],"functionMap":{"names":["<global>","getExtensionDigitsPattern","createExtensionPattern"],"mappings":"AAA;gCCU;CDE;eES;CFwE"},"hasCjsExports":false},"type":"js/module"}]}