{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":49,"index":83}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"../preferences","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":84},"end":{"line":3,"column":49,"index":133}}],"key":"3akeiu95pGmYd1gSv5F2mzSw0go=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"authKey\", {\n    enumerable: true,\n    get: function () {\n      return authKey;\n    }\n  });\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  Object.defineProperty(exports, \"useAuthModal\", {\n    enumerable: true,\n    get: function () {\n      return useAuthModal;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoVirtualEnv = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[2], \"zustand\");\n  var _expoSecureStore = require(_dependencyMap[3], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _preferences = require(_dependencyMap[4], \"../preferences\");\n  var authKey = `${_expoVirtualEnv.env.EXPO_PUBLIC_PROJECT_GROUP_ID}-jwt`;\n\n  /**\n   * This store manages the authentication state of the application.\n   */\n  var useAuthStore = (0, _zustand.create)(set => ({\n    isReady: false,\n    auth: null,\n    setAuth: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (auth) {\n        if (auth) {\n          yield SecureStore.setItemAsync(authKey, JSON.stringify(auth));\n          set({\n            auth\n          });\n        } else {\n          // When signing out, check if biometric lock is enabled\n          // If enabled, keep the token in SecureStore for biometric re-authentication\n          // If disabled, delete the token\n          var prefs = yield (0, _preferences.loadPreferences)();\n          if (!prefs.biometricLock) {\n            yield SecureStore.deleteItemAsync(authKey);\n          }\n          // Clear in-memory auth state regardless\n          set({\n            auth: null\n          });\n        }\n      });\n      return function setAuth(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  }));\n\n  /**\n   * This store manages the state of the authentication modal.\n   */\n  var useAuthModal = (0, _zustand.create)(set => ({\n    isOpen: false,\n    mode: 'signup',\n    open: options => set({\n      isOpen: true,\n      mode: options?.mode || 'signup'\n    }),\n    close: () => set({\n      isOpen: false\n    })\n  }));\n});","lineCount":101,"map":[[27,2,5,0,"Object"],[27,8,5,0],[27,9,5,0,"defineProperty"],[27,23,5,0],[27,24,5,0,"exports"],[27,31,5,0],[28,4,5,0,"enumerable"],[28,14,5,0],[29,4,5,0,"get"],[29,7,5,0],[29,18,5,0,"get"],[29,19,5,0],[30,6,5,0],[30,13,5,0,"authKey"],[30,20,5,0],[31,4,5,0],[32,2,5,0],[33,2,10,0,"Object"],[33,8,10,0],[33,9,10,0,"defineProperty"],[33,23,10,0],[33,24,10,0,"exports"],[33,31,10,0],[34,4,10,0,"enumerable"],[34,14,10,0],[35,4,10,0,"get"],[35,7,10,0],[35,18,10,0,"get"],[35,19,10,0],[36,6,10,0],[36,13,10,0,"useAuthStore"],[36,25,10,0],[37,4,10,0],[38,2,10,0],[39,2,34,0,"Object"],[39,8,34,0],[39,9,34,0,"defineProperty"],[39,23,34,0],[39,24,34,0,"exports"],[39,31,34,0],[40,4,34,0,"enumerable"],[40,14,34,0],[41,4,34,0,"get"],[41,7,34,0],[41,18,34,0,"get"],[41,19,34,0],[42,6,34,0],[42,13,34,0,"useAuthModal"],[42,25,34,0],[43,4,34,0],[44,2,34,0],[45,2,39,4],[45,6,39,4,"_babelRuntimeHelpersAsyncToGenerator"],[45,42,39,4],[45,45,39,4,"require"],[45,52,39,4],[45,53,39,4,"_dependencyMap"],[45,67,39,4],[46,2,39,4],[46,6,39,4,"_asyncToGenerator"],[46,23,39,4],[46,26,39,4,"_interopDefault"],[46,41,39,4],[46,42,39,4,"_babelRuntimeHelpersAsyncToGenerator"],[46,78,39,4],[47,2,39,4],[47,6,39,4,"_expoVirtualEnv"],[47,21,39,4],[47,24,39,4,"require"],[47,31,39,4],[47,32,39,4,"_dependencyMap"],[47,46,39,4],[48,2,1,0],[48,6,1,0,"_zustand"],[48,14,1,0],[48,17,1,0,"require"],[48,24,1,0],[48,25,1,0,"_dependencyMap"],[48,39,1,0],[49,2,2,0],[49,6,2,0,"_expoSecureStore"],[49,22,2,0],[49,25,2,0,"require"],[49,32,2,0],[49,33,2,0,"_dependencyMap"],[49,47,2,0],[50,2,2,0],[50,6,2,0,"SecureStore"],[50,17,2,0],[50,20,2,0,"_interopNamespace"],[50,37,2,0],[50,38,2,0,"_expoSecureStore"],[50,54,2,0],[51,2,3,0],[51,6,3,0,"_preferences"],[51,18,3,0],[51,21,3,0,"require"],[51,28,3,0],[51,29,3,0,"_dependencyMap"],[51,43,3,0],[52,2,5,7],[52,6,5,13,"authKey"],[52,13,5,20],[52,16,5,23],[52,19,5,23,"_expoVirtualEnv"],[52,34,5,23],[52,35,5,23,"env"],[52,38,5,23],[52,39,5,23,"EXPO_PUBLIC_PROJECT_GROUP_ID"],[52,67,5,23],[52,73,5,72],[54,2,7,0],[55,0,8,0],[56,0,9,0],[57,2,10,7],[57,6,10,13,"useAuthStore"],[57,18,10,25],[57,21,10,28],[57,25,10,28,"create"],[57,33,10,34],[57,34,10,34,"create"],[57,40,10,34],[57,42,10,36,"set"],[57,45,10,39],[57,50,10,45],[58,4,11,2,"isReady"],[58,11,11,9],[58,13,11,11],[58,18,11,16],[59,4,12,2,"auth"],[59,8,12,6],[59,10,12,8],[59,14,12,12],[60,4,13,2,"setAuth"],[60,11,13,9],[61,6,13,9],[61,10,13,9,"_ref"],[61,14,13,9],[61,21,13,9,"_asyncToGenerator"],[61,38,13,9],[61,39,13,9,"default"],[61,46,13,9],[61,48,13,11],[61,59,13,18,"auth"],[61,63,13,22],[61,65,13,27],[62,8,14,4],[62,12,14,8,"auth"],[62,16,14,12],[62,18,14,14],[63,10,15,6],[63,16,15,12,"SecureStore"],[63,27,15,23],[63,28,15,24,"setItemAsync"],[63,40,15,36],[63,41,15,37,"authKey"],[63,48,15,44],[63,50,15,46,"JSON"],[63,54,15,50],[63,55,15,51,"stringify"],[63,64,15,60],[63,65,15,61,"auth"],[63,69,15,65],[63,70,15,66],[63,71,15,67],[64,10,16,6,"set"],[64,13,16,9],[64,14,16,10],[65,12,16,12,"auth"],[66,10,16,17],[66,11,16,18],[66,12,16,19],[67,8,17,4],[67,9,17,5],[67,15,17,11],[68,10,18,6],[69,10,19,6],[70,10,20,6],[71,10,21,6],[71,14,21,12,"prefs"],[71,19,21,17],[71,28,21,26],[71,32,21,26,"loadPreferences"],[71,44,21,41],[71,45,21,41,"loadPreferences"],[71,60,21,41],[71,62,21,42],[71,63,21,43],[72,10,22,6],[72,14,22,10],[72,15,22,11,"prefs"],[72,20,22,16],[72,21,22,17,"biometricLock"],[72,34,22,30],[72,36,22,32],[73,12,23,8],[73,18,23,14,"SecureStore"],[73,29,23,25],[73,30,23,26,"deleteItemAsync"],[73,45,23,41],[73,46,23,42,"authKey"],[73,53,23,49],[73,54,23,50],[74,10,24,6],[75,10,25,6],[76,10,26,6,"set"],[76,13,26,9],[76,14,26,10],[77,12,26,12,"auth"],[77,16,26,16],[77,18,26,18],[78,10,26,23],[78,11,26,24],[78,12,26,25],[79,8,27,4],[80,6,28,2],[80,7,28,3],[81,6,28,3],[81,22,13,2,"setAuth"],[81,29,13,9,"setAuth"],[81,30,13,9,"_x"],[81,32,13,9],[82,8,13,9],[82,15,13,9,"_ref"],[82,19,13,9],[82,20,13,9,"apply"],[82,25,13,9],[82,32,13,9,"arguments"],[82,41,13,9],[83,6,13,9],[84,4,13,9],[85,2,29,0],[85,3,29,1],[85,4,29,2],[85,5,29,3],[87,2,31,0],[88,0,32,0],[89,0,33,0],[90,2,34,7],[90,6,34,13,"useAuthModal"],[90,18,34,25],[90,21,34,28],[90,25,34,28,"create"],[90,33,34,34],[90,34,34,34,"create"],[90,40,34,34],[90,42,34,36,"set"],[90,45,34,39],[90,50,34,45],[91,4,35,2,"isOpen"],[91,10,35,8],[91,12,35,10],[91,17,35,15],[92,4,36,2,"mode"],[92,8,36,6],[92,10,36,8],[92,18,36,16],[93,4,37,2,"open"],[93,8,37,6],[93,10,37,9,"options"],[93,17,37,16],[93,21,37,21,"set"],[93,24,37,24],[93,25,37,25],[94,6,37,27,"isOpen"],[94,12,37,33],[94,14,37,35],[94,18,37,39],[95,6,37,41,"mode"],[95,10,37,45],[95,12,37,47,"options"],[95,19,37,54],[95,21,37,56,"mode"],[95,25,37,60],[95,29,37,64],[96,4,37,73],[96,5,37,74],[96,6,37,75],[97,4,38,2,"close"],[97,9,38,7],[97,11,38,9,"close"],[97,12,38,9],[97,17,38,15,"set"],[97,20,38,18],[97,21,38,19],[98,6,38,21,"isOpen"],[98,12,38,27],[98,14,38,29],[99,4,38,35],[99,5,38,36],[100,2,39,0],[100,3,39,1],[100,4,39,2],[100,5,39,3],[101,0,39,4],[101,3]],"functionMap":{"names":["<global>","create$argument_0","setAuth","open","close"],"mappings":"AAA;mCCS;WCG;GDe;EDC;mCCK;QEG,mEF;SGC,4BH;EDC"},"hasCjsExports":false},"type":"js/module"}]}