{"dependencies":[{"name":"../metadata.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":1083},"end":{"line":4,"column":38,"index":1121}}],"key":"e+GcWU7PM4jYDq7rLAthu62vi9g=","exportNames":["*"],"imports":1}},{"name":"./getNumberType.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":1122},"end":{"line":5,"column":47,"index":1169}}],"key":"1kwoGbdlnWTZvFFnmrZ8tT0HXH4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return getCountryByNationalNumber;\n    }\n  });\n  var _metadataJs = require(_dependencyMap[0], \"../metadata.js\");\n  var Metadata = _interopDefault(_metadataJs);\n  var _getNumberTypeJs = require(_dependencyMap[1], \"./getNumberType.js\");\n  var getNumberType = _interopDefault(_getNumberTypeJs);\n  function _createForOfIteratorHelperLoose(r, e) {\n    var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n    if (t) return (t = t.call(r)).next.bind(t);\n    if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) {\n      t && (r = t);\n      var o = 0;\n      return function () {\n        return o >= r.length ? {\n          done: !0\n        } : {\n          done: !1,\n          value: r[o++]\n        };\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  function _unsupportedIterableToArray(r, a) {\n    if (r) {\n      if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n      var t = {}.toString.call(r).slice(8, -1);\n      return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n    }\n  }\n  function _arrayLikeToArray(r, a) {\n    (null == a || a > r.length) && (a = r.length);\n    for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n    return n;\n  }\n  // Returns the exact country that the `nationalPhoneNumber` belongs to\n  // in cases of ambiguity, i.e. when multiple countries share the same \"country calling code\".\n  function getCountryByNationalNumber(nationalPhoneNumber, _ref) {\n    var countries = _ref.countries,\n      metadata = _ref.metadata;\n    // Re-create `metadata` because it will be selecting a `country`.\n    metadata = new Metadata.default(metadata);\n\n    // const matchingCountries = []\n\n    for (var _iterator = _createForOfIteratorHelperLoose(countries), _step; !(_step = _iterator()).done;) {\n      var country = _step.value;\n      metadata.selectNumberingPlan(country);\n      // \"Leading digits\" patterns are only defined for about 20% of all countries.\n      // By definition, matching \"leading digits\" is a sufficient but not a necessary\n      // condition for a phone number to belong to a country.\n      // The point of \"leading digits\" check is that it's the fastest one to get a match.\n      // https://gitlab.com/catamphetamine/libphonenumber-js/blob/master/METADATA.md#leading_digits\n      // I'd suppose that \"leading digits\" patterns are mutually exclusive for different countries\n      // because of the intended use of that feature.\n      if (metadata.leadingDigits()) {\n        if (nationalPhoneNumber && nationalPhoneNumber.search(metadata.leadingDigits()) === 0) {\n          return country;\n        }\n      }\n      // Else perform full validation with all of those\n      // fixed-line/mobile/etc regular expressions.\n      else if ((0, getNumberType.default)({\n        phone: nationalPhoneNumber,\n        country: country\n      }, undefined, metadata.metadata)) {\n        // When multiple countries share the same \"country calling code\",\n        // type patterns aren't guaranteed to be unique among them.\n        // For example, both `US` and `CA` have the same pattern for `toll_free` numbers.\n        // https://gitlab.com/catamphetamine/libphonenumber-js/-/issues/103#note_1417147572\n        //\n        // That means that this `if` condition could be `true` for multiple countries from the list.\n        // Currently, it just returns the first one, which is also the \"main\" country for the \"country calling code\".\n        // In an example with `toll_free` numbers above, `\"US\"` would be returned even though\n        // it could as well be `\"CA\"`.\n        //\n        // There was also a time when this attempted to be overly smart\n        // and kept track of all such multiple matching countries\n        // and then picked the one that matched the `defaultCountry`, if provided.\n        // For example, with `toll_free` numbers above, and with `defaultCountry: \"CA\"`,\n        // it would've returned `\"CA\"` instead of `\"US\"`.\n        // Later it turned out that such \"overly smart\" behavior turned out to be just confusing,\n        // so this \"overly smart\" country detection was reverted to returning the \"main\" country\n        // for the \"country calling code\".\n        // https://gitlab.com/catamphetamine/libphonenumber-js/-/issues/154\n        //\n        return country;\n        //\n        // The \"overly smart\" behavior code:\n        //\n        // if (defaultCountry) {\n        // \tif (country === defaultCountry) {\n        // \t\treturn country\n        // \t} else {\n        // \t\tmatchingCountries.push(country)\n        // \t}\n        // } else {\n        // \treturn country\n        // }\n      }\n    }\n\n    // // Return the first (\"main\") one of the `matchingCountries`.\n    // if (matchingCountries.length > 0) {\n    // \treturn matchingCountries[0]\n    // }\n  }\n});","lineCount":123,"map":[[12,2,9,15,"Object"],[12,8,9,15],[12,9,9,15,"defineProperty"],[12,23,9,15],[12,24,9,15,"exports"],[12,31,9,15],[13,4,9,15,"enumerable"],[13,14,9,15],[14,4,9,15,"get"],[14,7,9,15],[14,18,9,15,"get"],[14,19,9,15],[15,6,9,15],[15,13,9,15,"getCountryByNationalNumber"],[15,39,9,15],[16,4,9,15],[17,2,9,15],[18,2,4,0],[18,6,4,0,"_metadataJs"],[18,17,4,0],[18,20,4,0,"require"],[18,27,4,0],[18,28,4,0,"_dependencyMap"],[18,42,4,0],[19,2,4,0],[19,6,4,0,"Metadata"],[19,14,4,0],[19,17,4,0,"_interopDefault"],[19,32,4,0],[19,33,4,0,"_metadataJs"],[19,44,4,0],[20,2,5,0],[20,6,5,0,"_getNumberTypeJs"],[20,22,5,0],[20,25,5,0,"require"],[20,32,5,0],[20,33,5,0,"_dependencyMap"],[20,47,5,0],[21,2,5,0],[21,6,5,0,"getNumberType"],[21,19,5,0],[21,22,5,0,"_interopDefault"],[21,37,5,0],[21,38,5,0,"_getNumberTypeJs"],[21,54,5,0],[22,2,1,0],[22,11,1,9,"_createForOfIteratorHelperLoose"],[22,42,1,40,"_createForOfIteratorHelperLoose"],[22,43,1,41,"r"],[22,44,1,42],[22,46,1,44,"e"],[22,47,1,45],[22,49,1,47],[23,4,1,49],[23,8,1,53,"t"],[23,9,1,54],[23,12,1,57],[23,23,1,68],[23,27,1,72],[23,34,1,79,"Symbol"],[23,40,1,85],[23,44,1,89,"r"],[23,45,1,90],[23,46,1,91,"Symbol"],[23,52,1,97],[23,53,1,98,"iterator"],[23,61,1,106],[23,62,1,107],[23,66,1,111,"r"],[23,67,1,112],[23,68,1,113],[23,80,1,125],[23,81,1,126],[24,4,1,128],[24,8,1,132,"t"],[24,9,1,133],[24,11,1,135],[24,18,1,142],[24,19,1,143,"t"],[24,20,1,144],[24,23,1,147,"t"],[24,24,1,148],[24,25,1,149,"call"],[24,29,1,153],[24,30,1,154,"r"],[24,31,1,155],[24,32,1,156],[24,34,1,158,"next"],[24,38,1,162],[24,39,1,163,"bind"],[24,43,1,167],[24,44,1,168,"t"],[24,45,1,169],[24,46,1,170],[25,4,1,172],[25,8,1,176,"Array"],[25,13,1,181],[25,14,1,182,"isArray"],[25,21,1,189],[25,22,1,190,"r"],[25,23,1,191],[25,24,1,192],[25,29,1,197,"t"],[25,30,1,198],[25,33,1,201,"_unsupportedIterableToArray"],[25,60,1,228],[25,61,1,229,"r"],[25,62,1,230],[25,63,1,231],[25,64,1,232],[25,68,1,236,"e"],[25,69,1,237],[25,73,1,241,"r"],[25,74,1,242],[25,78,1,246],[25,86,1,254],[25,90,1,258],[25,97,1,265,"r"],[25,98,1,266],[25,99,1,267,"length"],[25,105,1,273],[25,107,1,275],[26,6,1,277,"t"],[26,7,1,278],[26,12,1,283,"r"],[26,13,1,284],[26,16,1,287,"t"],[26,17,1,288],[26,18,1,289],[27,6,1,291],[27,10,1,295,"o"],[27,11,1,296],[27,14,1,299],[27,15,1,300],[28,6,1,302],[28,13,1,309],[28,25,1,321],[29,8,1,323],[29,15,1,330,"o"],[29,16,1,331],[29,20,1,335,"r"],[29,21,1,336],[29,22,1,337,"length"],[29,28,1,343],[29,31,1,346],[30,10,1,348,"done"],[30,14,1,352],[30,16,1,354],[30,17,1,355],[31,8,1,357],[31,9,1,358],[31,12,1,361],[32,10,1,363,"done"],[32,14,1,367],[32,16,1,369],[32,17,1,370],[32,18,1,371],[33,10,1,373,"value"],[33,15,1,378],[33,17,1,380,"r"],[33,18,1,381],[33,19,1,382,"o"],[33,20,1,383],[33,22,1,385],[34,8,1,387],[34,9,1,388],[35,6,1,390],[35,7,1,391],[36,4,1,393],[37,4,1,395],[37,10,1,401],[37,14,1,405,"TypeError"],[37,23,1,414],[37,24,1,415],[37,159,1,550],[37,160,1,551],[38,2,1,553],[39,2,2,0],[39,11,2,9,"_unsupportedIterableToArray"],[39,38,2,36,"_unsupportedIterableToArray"],[39,39,2,37,"r"],[39,40,2,38],[39,42,2,40,"a"],[39,43,2,41],[39,45,2,43],[40,4,2,45],[40,8,2,49,"r"],[40,9,2,50],[40,11,2,52],[41,6,2,54],[41,10,2,58],[41,18,2,66],[41,22,2,70],[41,29,2,77,"r"],[41,30,2,78],[41,32,2,80],[41,39,2,87,"_arrayLikeToArray"],[41,56,2,104],[41,57,2,105,"r"],[41,58,2,106],[41,60,2,108,"a"],[41,61,2,109],[41,62,2,110],[42,6,2,112],[42,10,2,116,"t"],[42,11,2,117],[42,14,2,120],[42,15,2,121],[42,16,2,122],[42,17,2,123,"toString"],[42,25,2,131],[42,26,2,132,"call"],[42,30,2,136],[42,31,2,137,"r"],[42,32,2,138],[42,33,2,139],[42,34,2,140,"slice"],[42,39,2,145],[42,40,2,146],[42,41,2,147],[42,43,2,149],[42,44,2,150],[42,45,2,151],[42,46,2,152],[43,6,2,154],[43,13,2,161],[43,21,2,169],[43,26,2,174,"t"],[43,27,2,175],[43,31,2,179,"r"],[43,32,2,180],[43,33,2,181,"constructor"],[43,44,2,192],[43,49,2,197,"t"],[43,50,2,198],[43,53,2,201,"r"],[43,54,2,202],[43,55,2,203,"constructor"],[43,66,2,214],[43,67,2,215,"name"],[43,71,2,219],[43,72,2,220],[43,74,2,222],[43,79,2,227],[43,84,2,232,"t"],[43,85,2,233],[43,89,2,237],[43,94,2,242],[43,99,2,247,"t"],[43,100,2,248],[43,103,2,251,"Array"],[43,108,2,256],[43,109,2,257,"from"],[43,113,2,261],[43,114,2,262,"r"],[43,115,2,263],[43,116,2,264],[43,119,2,267],[43,130,2,278],[43,135,2,283,"t"],[43,136,2,284],[43,140,2,288],[43,182,2,330],[43,183,2,331,"test"],[43,187,2,335],[43,188,2,336,"t"],[43,189,2,337],[43,190,2,338],[43,193,2,341,"_arrayLikeToArray"],[43,210,2,358],[43,211,2,359,"r"],[43,212,2,360],[43,214,2,362,"a"],[43,215,2,363],[43,216,2,364],[43,219,2,367],[43,224,2,372],[43,225,2,373],[44,4,2,375],[45,2,2,377],[46,2,3,0],[46,11,3,9,"_arrayLikeToArray"],[46,28,3,26,"_arrayLikeToArray"],[46,29,3,27,"r"],[46,30,3,28],[46,32,3,30,"a"],[46,33,3,31],[46,35,3,33],[47,4,3,35],[47,5,3,36],[47,9,3,40],[47,13,3,44,"a"],[47,14,3,45],[47,18,3,49,"a"],[47,19,3,50],[47,22,3,53,"r"],[47,23,3,54],[47,24,3,55,"length"],[47,30,3,61],[47,36,3,67,"a"],[47,37,3,68],[47,40,3,71,"r"],[47,41,3,72],[47,42,3,73,"length"],[47,48,3,79],[47,49,3,80],[48,4,3,82],[48,9,3,87],[48,13,3,91,"e"],[48,14,3,92],[48,17,3,95],[48,18,3,96],[48,20,3,98,"n"],[48,21,3,99],[48,24,3,102,"Array"],[48,29,3,107],[48,30,3,108,"a"],[48,31,3,109],[48,32,3,110],[48,34,3,112,"e"],[48,35,3,113],[48,38,3,116,"a"],[48,39,3,117],[48,41,3,119,"e"],[48,42,3,120],[48,44,3,122],[48,46,3,124,"n"],[48,47,3,125],[48,48,3,126,"e"],[48,49,3,127],[48,50,3,128],[48,53,3,131,"r"],[48,54,3,132],[48,55,3,133,"e"],[48,56,3,134],[48,57,3,135],[49,4,3,137],[49,11,3,144,"n"],[49,12,3,145],[50,2,3,147],[51,2,7,0],[52,2,8,0],[53,2,9,15],[53,11,9,24,"getCountryByNationalNumber"],[53,37,9,50,"getCountryByNationalNumber"],[53,38,9,51,"nationalPhoneNumber"],[53,57,9,70],[53,59,9,72,"_ref"],[53,63,9,76],[53,65,9,78],[54,4,10,2],[54,8,10,6,"countries"],[54,17,10,15],[54,20,10,18,"_ref"],[54,24,10,22],[54,25,10,23,"countries"],[54,34,10,32],[55,6,11,4,"metadata"],[55,14,11,12],[55,17,11,15,"_ref"],[55,21,11,19],[55,22,11,20,"metadata"],[55,30,11,28],[56,4,12,2],[57,4,13,2,"metadata"],[57,12,13,10],[57,15,13,13],[57,19,13,17,"Metadata"],[57,27,13,25],[57,28,13,25,"default"],[57,35,13,25],[57,36,13,26,"metadata"],[57,44,13,34],[57,45,13,35],[59,4,15,2],[61,4,17,2],[61,9,17,7],[61,13,17,11,"_iterator"],[61,22,17,20],[61,25,17,23,"_createForOfIteratorHelperLoose"],[61,56,17,54],[61,57,17,55,"countries"],[61,66,17,64],[61,67,17,65],[61,69,17,67,"_step"],[61,74,17,72],[61,76,17,74],[61,77,17,75],[61,78,17,76,"_step"],[61,83,17,81],[61,86,17,84,"_iterator"],[61,95,17,93],[61,96,17,94],[61,97,17,95],[61,99,17,97,"done"],[61,103,17,101],[61,106,17,104],[62,6,18,4],[62,10,18,8,"country"],[62,17,18,15],[62,20,18,18,"_step"],[62,25,18,23],[62,26,18,24,"value"],[62,31,18,29],[63,6,19,4,"metadata"],[63,14,19,12],[63,15,19,13,"selectNumberingPlan"],[63,34,19,32],[63,35,19,33,"country"],[63,42,19,40],[63,43,19,41],[64,6,20,4],[65,6,21,4],[66,6,22,4],[67,6,23,4],[68,6,24,4],[69,6,25,4],[70,6,26,4],[71,6,27,4],[71,10,27,8,"metadata"],[71,18,27,16],[71,19,27,17,"leadingDigits"],[71,32,27,30],[71,33,27,31],[71,34,27,32],[71,36,27,34],[72,8,28,6],[72,12,28,10,"nationalPhoneNumber"],[72,31,28,29],[72,35,28,33,"nationalPhoneNumber"],[72,54,28,52],[72,55,28,53,"search"],[72,61,28,59],[72,62,28,60,"metadata"],[72,70,28,68],[72,71,28,69,"leadingDigits"],[72,84,28,82],[72,85,28,83],[72,86,28,84],[72,87,28,85],[72,92,28,90],[72,93,28,91],[72,95,28,93],[73,10,29,8],[73,17,29,15,"country"],[73,24,29,22],[74,8,30,6],[75,6,31,4],[76,6,32,4],[77,6,33,4],[78,6,33,4],[78,11,34,9],[78,15,34,13],[78,19,34,13,"getNumberType"],[78,32,34,26],[78,33,34,26,"default"],[78,40,34,26],[78,42,34,27],[79,8,35,6,"phone"],[79,13,35,11],[79,15,35,13,"nationalPhoneNumber"],[79,34,35,32],[80,8,36,6,"country"],[80,15,36,13],[80,17,36,15,"country"],[81,6,37,4],[81,7,37,5],[81,9,37,7,"undefined"],[81,18,37,16],[81,20,37,18,"metadata"],[81,28,37,26],[81,29,37,27,"metadata"],[81,37,37,35],[81,38,37,36],[81,40,37,38],[82,8,38,6],[83,8,39,6],[84,8,40,6],[85,8,41,6],[86,8,42,6],[87,8,43,6],[88,8,44,6],[89,8,45,6],[90,8,46,6],[91,8,47,6],[92,8,48,6],[93,8,49,6],[94,8,50,6],[95,8,51,6],[96,8,52,6],[97,8,53,6],[98,8,54,6],[99,8,55,6],[100,8,56,6],[101,8,57,6],[102,8,58,6],[102,15,58,13,"country"],[102,22,58,20],[103,8,59,6],[104,8,60,6],[105,8,61,6],[106,8,62,6],[107,8,63,6],[108,8,64,6],[109,8,65,6],[110,8,66,6],[111,8,67,6],[112,8,68,6],[113,8,69,6],[114,8,70,6],[115,6,71,4],[116,4,72,2],[118,4,74,2],[119,4,75,2],[120,4,76,2],[121,4,77,2],[122,2,78,0],[123,0,78,1],[123,3]],"functionMap":{"names":["_createForOfIteratorHelperLoose","<anonymous>","<global>","_unsupportedIterableToArray","_arrayLikeToArray","getCountryByNationalNumber"],"mappings":"AAA,qTC,kFD,mKE;ACC,0XD;AEC,oJF;eGM;CHqE"},"hasCjsExports":false},"type":"js/module"}]}