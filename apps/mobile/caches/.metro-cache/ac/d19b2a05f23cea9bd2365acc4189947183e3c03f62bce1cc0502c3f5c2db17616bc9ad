{"dependencies":[{"name":"../constants.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":46},"end":{"line":3,"column":45,"index":91}}],"key":"w33QN4nlqAZn5CNK6M5HKbLWgBA=","exportNames":["*"],"imports":1}},{"name":"./util.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":92},"end":{"line":4,"column":34,"index":126}}],"key":"+UpHPazG/Yk8JnTjB6d2Eo+vUl4=","exportNames":["*"],"imports":1}},{"name":"./utf-8.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":127},"end":{"line":5,"column":71,"index":198}}],"key":"/vlrSO3pKHhHURhR7bBRcXynUl0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return isValidCandidate;\n    }\n  });\n  Object.defineProperty(exports, \"LEAD_CLASS\", {\n    enumerable: true,\n    get: function () {\n      return LEAD_CLASS;\n    }\n  });\n  var _constantsJs = require(_dependencyMap[0], \"../constants.js\");\n  var _utilJs = require(_dependencyMap[1], \"./util.js\");\n  var _utf8Js = require(_dependencyMap[2], \"./utf-8.js\");\n  // Copy-pasted from `PhoneNumberMatcher.js`.\n\n  var OPENING_PARENS = \"(\\\\[\\uFF08\\uFF3B\";\n  var CLOSING_PARENS = \")\\\\]\\uFF09\\uFF3D\";\n  var NON_PARENS = \"[^\".concat(OPENING_PARENS).concat(CLOSING_PARENS, \"]\");\n  var LEAD_CLASS = \"[\".concat(OPENING_PARENS).concat(_constantsJs.PLUS_CHARS, \"]\");\n\n  // Punctuation that may be at the start of a phone number - brackets and plus signs.\n  var LEAD_CLASS_LEADING = new RegExp('^' + LEAD_CLASS);\n\n  // Limit on the number of pairs of brackets in a phone number.\n  var BRACKET_PAIR_LIMIT = (0, _utilJs.limit)(0, 3);\n\n  /**\r\n   * Pattern to check that brackets match. Opening brackets should be closed within a phone number.\r\n   * This also checks that there is something inside the brackets. Having no brackets at all is also\r\n   * fine.\r\n   *\r\n   * An opening bracket at the beginning may not be closed, but subsequent ones should be.  It's\r\n   * also possible that the leading bracket was dropped, so we shouldn't be surprised if we see a\r\n   * closing bracket first. We limit the sets of brackets in a phone number to four.\r\n   */\n  var MATCHING_BRACKETS_ENTIRE = new RegExp('^' + \"(?:[\" + OPENING_PARENS + \"])?\" + \"(?:\" + NON_PARENS + \"+\" + \"[\" + CLOSING_PARENS + \"])?\" + NON_PARENS + \"+\" + \"(?:[\" + OPENING_PARENS + \"]\" + NON_PARENS + \"+[\" + CLOSING_PARENS + \"])\" + BRACKET_PAIR_LIMIT + NON_PARENS + \"*\" + '$');\n\n  /**\r\n   * Matches strings that look like publication pages. Example:\r\n   * <pre>Computing Complete Answers to Queries in the Presence of Limited Access Patterns.\r\n   * Chen Li. VLDB J. 12(3): 211-227 (2003).</pre>\r\n   *\r\n   * The string \"211-227 (2003)\" is not a telephone number.\r\n   */\n  var PUB_PAGES = /\\d{1,5}-+\\d{1,5}\\s{0,4}\\(\\d{1,4}/;\n  function isValidCandidate(candidate, offset, text, leniency) {\n    // Check the candidate doesn't contain any formatting\n    // which would indicate that it really isn't a phone number.\n    if (!MATCHING_BRACKETS_ENTIRE.test(candidate) || PUB_PAGES.test(candidate)) {\n      return;\n    }\n\n    // If leniency is set to VALID or stricter, we also want to skip numbers that are surrounded\n    // by Latin alphabetic characters, to skip cases like abc8005001234 or 8005001234def.\n    if (leniency !== 'POSSIBLE') {\n      // If the candidate is not at the start of the text,\n      // and does not start with phone-number punctuation,\n      // check the previous character.\n      if (offset > 0 && !LEAD_CLASS_LEADING.test(candidate)) {\n        var previousChar = text[offset - 1];\n        // We return null if it is a latin letter or an invalid punctuation symbol.\n        if ((0, _utf8Js.isInvalidPunctuationSymbol)(previousChar) || (0, _utf8Js.isLatinLetter)(previousChar)) {\n          return false;\n        }\n      }\n      var lastCharIndex = offset + candidate.length;\n      if (lastCharIndex < text.length) {\n        var nextChar = text[lastCharIndex];\n        if ((0, _utf8Js.isInvalidPunctuationSymbol)(nextChar) || (0, _utf8Js.isLatinLetter)(nextChar)) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n});","lineCount":84,"map":[[7,2,36,15,"Object"],[7,8,36,15],[7,9,36,15,"defineProperty"],[7,23,36,15],[7,24,36,15,"exports"],[7,31,36,15],[8,4,36,15,"enumerable"],[8,14,36,15],[9,4,36,15,"get"],[9,7,36,15],[9,18,36,15,"get"],[9,19,36,15],[10,6,36,15],[10,13,36,15,"isValidCandidate"],[10,29,36,15],[11,4,36,15],[12,2,36,15],[13,2,9,0,"Object"],[13,8,9,0],[13,9,9,0,"defineProperty"],[13,23,9,0],[13,24,9,0,"exports"],[13,31,9,0],[14,4,9,0,"enumerable"],[14,14,9,0],[15,4,9,0,"get"],[15,7,9,0],[15,18,9,0,"get"],[15,19,9,0],[16,6,9,0],[16,13,9,0,"LEAD_CLASS"],[16,23,9,0],[17,4,9,0],[18,2,9,0],[19,2,3,0],[19,6,3,0,"_constantsJs"],[19,18,3,0],[19,21,3,0,"require"],[19,28,3,0],[19,29,3,0,"_dependencyMap"],[19,43,3,0],[20,2,4,0],[20,6,4,0,"_utilJs"],[20,13,4,0],[20,16,4,0,"require"],[20,23,4,0],[20,24,4,0,"_dependencyMap"],[20,38,4,0],[21,2,5,0],[21,6,5,0,"_utf8Js"],[21,13,5,0],[21,16,5,0,"require"],[21,23,5,0],[21,24,5,0,"_dependencyMap"],[21,38,5,0],[22,2,1,0],[24,2,6,0],[24,6,6,4,"OPENING_PARENS"],[24,20,6,18],[24,23,6,21],[24,41,6,39],[25,2,7,0],[25,6,7,4,"CLOSING_PARENS"],[25,20,7,18],[25,23,7,21],[25,41,7,39],[26,2,8,0],[26,6,8,4,"NON_PARENS"],[26,16,8,14],[26,19,8,17],[26,23,8,21],[26,24,8,22,"concat"],[26,30,8,28],[26,31,8,29,"OPENING_PARENS"],[26,45,8,43],[26,46,8,44],[26,47,8,45,"concat"],[26,53,8,51],[26,54,8,52,"CLOSING_PARENS"],[26,68,8,66],[26,70,8,68],[26,73,8,71],[26,74,8,72],[27,2,9,7],[27,6,9,11,"LEAD_CLASS"],[27,16,9,21],[27,19,9,24],[27,22,9,27],[27,23,9,28,"concat"],[27,29,9,34],[27,30,9,35,"OPENING_PARENS"],[27,44,9,49],[27,45,9,50],[27,46,9,51,"concat"],[27,52,9,57],[27,53,9,58,"PLUS_CHARS"],[27,65,9,68],[27,66,9,68,"PLUS_CHARS"],[27,76,9,68],[27,78,9,70],[27,81,9,73],[27,82,9,74],[29,2,11,0],[30,2,12,0],[30,6,12,4,"LEAD_CLASS_LEADING"],[30,24,12,22],[30,27,12,25],[30,31,12,29,"RegExp"],[30,37,12,35],[30,38,12,36],[30,41,12,39],[30,44,12,42,"LEAD_CLASS"],[30,54,12,52],[30,55,12,53],[32,2,14,0],[33,2,15,0],[33,6,15,4,"BRACKET_PAIR_LIMIT"],[33,24,15,22],[33,27,15,25],[33,31,15,25,"limit"],[33,38,15,30],[33,39,15,30,"limit"],[33,44,15,30],[33,46,15,31],[33,47,15,32],[33,49,15,34],[33,50,15,35],[33,51,15,36],[35,2,17,0],[36,0,18,0],[37,0,19,0],[38,0,20,0],[39,0,21,0],[40,0,22,0],[41,0,23,0],[42,0,24,0],[43,0,25,0],[44,2,26,0],[44,6,26,4,"MATCHING_BRACKETS_ENTIRE"],[44,30,26,28],[44,33,26,31],[44,37,26,35,"RegExp"],[44,43,26,41],[44,44,26,42],[44,47,26,45],[44,50,26,48],[44,56,26,54],[44,59,26,57,"OPENING_PARENS"],[44,73,26,71],[44,76,26,74],[44,81,26,79],[44,84,26,82],[44,89,26,87],[44,92,26,90,"NON_PARENS"],[44,102,26,100],[44,105,26,103],[44,108,26,106],[44,111,26,109],[44,114,26,112],[44,117,26,115,"CLOSING_PARENS"],[44,131,26,129],[44,134,26,132],[44,139,26,137],[44,142,26,140,"NON_PARENS"],[44,152,26,150],[44,155,26,153],[44,158,26,156],[44,161,26,159],[44,167,26,165],[44,170,26,168,"OPENING_PARENS"],[44,184,26,182],[44,187,26,185],[44,190,26,188],[44,193,26,191,"NON_PARENS"],[44,203,26,201],[44,206,26,204],[44,210,26,208],[44,213,26,211,"CLOSING_PARENS"],[44,227,26,225],[44,230,26,228],[44,234,26,232],[44,237,26,235,"BRACKET_PAIR_LIMIT"],[44,255,26,253],[44,258,26,256,"NON_PARENS"],[44,268,26,266],[44,271,26,269],[44,274,26,272],[44,277,26,275],[44,280,26,278],[44,281,26,279],[46,2,28,0],[47,0,29,0],[48,0,30,0],[49,0,31,0],[50,0,32,0],[51,0,33,0],[52,0,34,0],[53,2,35,0],[53,6,35,4,"PUB_PAGES"],[53,15,35,13],[53,18,35,16],[53,52,35,50],[54,2,36,15],[54,11,36,24,"isValidCandidate"],[54,27,36,40,"isValidCandidate"],[54,28,36,41,"candidate"],[54,37,36,50],[54,39,36,52,"offset"],[54,45,36,58],[54,47,36,60,"text"],[54,51,36,64],[54,53,36,66,"leniency"],[54,61,36,74],[54,63,36,76],[55,4,37,2],[56,4,38,2],[57,4,39,2],[57,8,39,6],[57,9,39,7,"MATCHING_BRACKETS_ENTIRE"],[57,33,39,31],[57,34,39,32,"test"],[57,38,39,36],[57,39,39,37,"candidate"],[57,48,39,46],[57,49,39,47],[57,53,39,51,"PUB_PAGES"],[57,62,39,60],[57,63,39,61,"test"],[57,67,39,65],[57,68,39,66,"candidate"],[57,77,39,75],[57,78,39,76],[57,80,39,78],[58,6,40,4],[59,4,41,2],[61,4,43,2],[62,4,44,2],[63,4,45,2],[63,8,45,6,"leniency"],[63,16,45,14],[63,21,45,19],[63,31,45,29],[63,33,45,31],[64,6,46,4],[65,6,47,4],[66,6,48,4],[67,6,49,4],[67,10,49,8,"offset"],[67,16,49,14],[67,19,49,17],[67,20,49,18],[67,24,49,22],[67,25,49,23,"LEAD_CLASS_LEADING"],[67,43,49,41],[67,44,49,42,"test"],[67,48,49,46],[67,49,49,47,"candidate"],[67,58,49,56],[67,59,49,57],[67,61,49,59],[68,8,50,6],[68,12,50,10,"previousChar"],[68,24,50,22],[68,27,50,25,"text"],[68,31,50,29],[68,32,50,30,"offset"],[68,38,50,36],[68,41,50,39],[68,42,50,40],[68,43,50,41],[69,8,51,6],[70,8,52,6],[70,12,52,10],[70,16,52,10,"isInvalidPunctuationSymbol"],[70,23,52,36],[70,24,52,36,"isInvalidPunctuationSymbol"],[70,50,52,36],[70,52,52,37,"previousChar"],[70,64,52,49],[70,65,52,50],[70,69,52,54],[70,73,52,54,"isLatinLetter"],[70,80,52,67],[70,81,52,67,"isLatinLetter"],[70,94,52,67],[70,96,52,68,"previousChar"],[70,108,52,80],[70,109,52,81],[70,111,52,83],[71,10,53,8],[71,17,53,15],[71,22,53,20],[72,8,54,6],[73,6,55,4],[74,6,56,4],[74,10,56,8,"lastCharIndex"],[74,23,56,21],[74,26,56,24,"offset"],[74,32,56,30],[74,35,56,33,"candidate"],[74,44,56,42],[74,45,56,43,"length"],[74,51,56,49],[75,6,57,4],[75,10,57,8,"lastCharIndex"],[75,23,57,21],[75,26,57,24,"text"],[75,30,57,28],[75,31,57,29,"length"],[75,37,57,35],[75,39,57,37],[76,8,58,6],[76,12,58,10,"nextChar"],[76,20,58,18],[76,23,58,21,"text"],[76,27,58,25],[76,28,58,26,"lastCharIndex"],[76,41,58,39],[76,42,58,40],[77,8,59,6],[77,12,59,10],[77,16,59,10,"isInvalidPunctuationSymbol"],[77,23,59,36],[77,24,59,36,"isInvalidPunctuationSymbol"],[77,50,59,36],[77,52,59,37,"nextChar"],[77,60,59,45],[77,61,59,46],[77,65,59,50],[77,69,59,50,"isLatinLetter"],[77,76,59,63],[77,77,59,63,"isLatinLetter"],[77,90,59,63],[77,92,59,64,"nextChar"],[77,100,59,72],[77,101,59,73],[77,103,59,75],[78,10,60,8],[78,17,60,15],[78,22,60,20],[79,8,61,6],[80,6,62,4],[81,4,63,2],[82,4,64,2],[82,11,64,9],[82,15,64,13],[83,2,65,0],[84,0,65,1],[84,3]],"functionMap":{"names":["<global>","isValidCandidate"],"mappings":"AAA;eCmC;CD6B"},"hasCjsExports":false},"type":"js/module"}]}