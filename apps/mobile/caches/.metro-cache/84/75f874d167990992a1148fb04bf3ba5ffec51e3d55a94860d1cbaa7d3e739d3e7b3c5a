{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return extractNationalNumberFromPossiblyIncompleteNumber;\n    }\n  });\n  /**\r\n   * Strips any national prefix (such as 0, 1) present in a\r\n   * (possibly incomplete) number provided.\r\n   * \"Carrier codes\" are only used  in Colombia and Brazil,\r\n   * and only when dialing within those countries from a mobile phone to a fixed line number.\r\n   * Sometimes it won't actually strip national prefix\r\n   * and will instead prepend some digits to the `number`:\r\n   * for example, when number `2345678` is passed with `VI` country selected,\r\n   * it will return `{ number: \"3402345678\" }`, because `340` area code is prepended.\r\n   * @param {string} number — National number digits.\r\n   * @param {object} metadata — Metadata with country selected.\r\n   * @return {object} `{ nationalNumber: string, nationalPrefix: string? carrierCode: string? }`. Even if a national prefix was extracted, it's not necessarily present in the returned object, so don't rely on its presence in the returned object in order to find out whether a national prefix has been extracted or not.\r\n   */\n  function extractNationalNumberFromPossiblyIncompleteNumber(number, metadata) {\n    if (number && metadata.numberingPlan.nationalPrefixForParsing()) {\n      // See METADATA.md for the description of\n      // `national_prefix_for_parsing` and `national_prefix_transform_rule`.\n      // Attempt to parse the first digits as a national prefix.\n      var prefixPattern = new RegExp('^(?:' + metadata.numberingPlan.nationalPrefixForParsing() + ')');\n      var prefixMatch = prefixPattern.exec(number);\n      if (prefixMatch) {\n        var nationalNumber;\n        var carrierCode;\n        // https://gitlab.com/catamphetamine/libphonenumber-js/-/blob/master/METADATA.md#national_prefix_for_parsing--national_prefix_transform_rule\n        // If a `national_prefix_for_parsing` has any \"capturing groups\"\n        // then it means that the national (significant) number is equal to\n        // those \"capturing groups\" transformed via `national_prefix_transform_rule`,\n        // and nothing could be said about the actual national prefix:\n        // what is it and was it even there.\n        // If a `national_prefix_for_parsing` doesn't have any \"capturing groups\",\n        // then everything it matches is a national prefix.\n        // To determine whether `national_prefix_for_parsing` matched any\n        // \"capturing groups\", the value of the result of calling `.exec()`\n        // is looked at, and if it has non-undefined values where there're\n        // \"capturing groups\" in the regular expression, then it means\n        // that \"capturing groups\" have been matched.\n        // It's not possible to tell whether there'll be any \"capturing gropus\"\n        // before the matching process, because a `national_prefix_for_parsing`\n        // could exhibit both behaviors.\n        var capturedGroupsCount = prefixMatch.length - 1;\n        var hasCapturedGroups = capturedGroupsCount > 0 && prefixMatch[capturedGroupsCount];\n        if (metadata.nationalPrefixTransformRule() && hasCapturedGroups) {\n          nationalNumber = number.replace(prefixPattern, metadata.nationalPrefixTransformRule());\n          // If there's more than one captured group,\n          // then carrier code is the second one.\n          if (capturedGroupsCount > 1) {\n            carrierCode = prefixMatch[1];\n          }\n        }\n        // If there're no \"capturing groups\",\n        // or if there're \"capturing groups\" but no\n        // `national_prefix_transform_rule`,\n        // then just strip the national prefix from the number,\n        // and possibly a carrier code.\n        // Seems like there could be more.\n        else {\n          // `prefixBeforeNationalNumber` is the whole substring matched by\n          // the `national_prefix_for_parsing` regular expression.\n          // There seem to be no guarantees that it's just a national prefix.\n          // For example, if there's a carrier code, it's gonna be a\n          // part of `prefixBeforeNationalNumber` too.\n          var prefixBeforeNationalNumber = prefixMatch[0];\n          nationalNumber = number.slice(prefixBeforeNationalNumber.length);\n          // If there's at least one captured group,\n          // then carrier code is the first one.\n          if (hasCapturedGroups) {\n            carrierCode = prefixMatch[1];\n          }\n        }\n        // Tries to guess whether a national prefix was present in the input.\n        // This is not something copy-pasted from Google's library:\n        // they don't seem to have an equivalent for that.\n        // So this isn't an \"officially approved\" way of doing something like that.\n        // But since there seems no other existing method, this library uses it.\n        var nationalPrefix;\n        if (hasCapturedGroups) {\n          var possiblePositionOfTheFirstCapturedGroup = number.indexOf(prefixMatch[1]);\n          var possibleNationalPrefix = number.slice(0, possiblePositionOfTheFirstCapturedGroup);\n          // Example: an Argentinian (AR) phone number `0111523456789`.\n          // `prefixMatch[0]` is `01115`, and `$1` is `11`,\n          // and the rest of the phone number is `23456789`.\n          // The national number is transformed via `9$1` to `91123456789`.\n          // National prefix `0` is detected being present at the start.\n          // if (possibleNationalPrefix.indexOf(metadata.numberingPlan.nationalPrefix()) === 0) {\n          if (possibleNationalPrefix === metadata.numberingPlan.nationalPrefix()) {\n            nationalPrefix = metadata.numberingPlan.nationalPrefix();\n          }\n        } else {\n          nationalPrefix = prefixMatch[0];\n        }\n        return {\n          nationalNumber: nationalNumber,\n          nationalPrefix: nationalPrefix,\n          carrierCode: carrierCode\n        };\n      }\n    }\n    return {\n      nationalNumber: number\n    };\n  }\n});","lineCount":114,"map":[[7,2,14,15,"Object"],[7,8,14,15],[7,9,14,15,"defineProperty"],[7,23,14,15],[7,24,14,15,"exports"],[7,31,14,15],[8,4,14,15,"enumerable"],[8,14,14,15],[9,4,14,15,"get"],[9,7,14,15],[9,18,14,15,"get"],[9,19,14,15],[10,6,14,15],[10,13,14,15,"extractNationalNumberFromPossiblyIncompleteNumber"],[10,62,14,15],[11,4,14,15],[12,2,14,15],[13,2,1,0],[14,0,2,0],[15,0,3,0],[16,0,4,0],[17,0,5,0],[18,0,6,0],[19,0,7,0],[20,0,8,0],[21,0,9,0],[22,0,10,0],[23,0,11,0],[24,0,12,0],[25,0,13,0],[26,2,14,15],[26,11,14,24,"extractNationalNumberFromPossiblyIncompleteNumber"],[26,60,14,73,"extractNationalNumberFromPossiblyIncompleteNumber"],[26,61,14,74,"number"],[26,67,14,80],[26,69,14,82,"metadata"],[26,77,14,90],[26,79,14,92],[27,4,15,2],[27,8,15,6,"number"],[27,14,15,12],[27,18,15,16,"metadata"],[27,26,15,24],[27,27,15,25,"numberingPlan"],[27,40,15,38],[27,41,15,39,"nationalPrefixForParsing"],[27,65,15,63],[27,66,15,64],[27,67,15,65],[27,69,15,67],[28,6,16,4],[29,6,17,4],[30,6,18,4],[31,6,19,4],[31,10,19,8,"prefixPattern"],[31,23,19,21],[31,26,19,24],[31,30,19,28,"RegExp"],[31,36,19,34],[31,37,19,35],[31,43,19,41],[31,46,19,44,"metadata"],[31,54,19,52],[31,55,19,53,"numberingPlan"],[31,68,19,66],[31,69,19,67,"nationalPrefixForParsing"],[31,93,19,91],[31,94,19,92],[31,95,19,93],[31,98,19,96],[31,101,19,99],[31,102,19,100],[32,6,20,4],[32,10,20,8,"prefixMatch"],[32,21,20,19],[32,24,20,22,"prefixPattern"],[32,37,20,35],[32,38,20,36,"exec"],[32,42,20,40],[32,43,20,41,"number"],[32,49,20,47],[32,50,20,48],[33,6,21,4],[33,10,21,8,"prefixMatch"],[33,21,21,19],[33,23,21,21],[34,8,22,6],[34,12,22,10,"nationalNumber"],[34,26,22,24],[35,8,23,6],[35,12,23,10,"carrierCode"],[35,23,23,21],[36,8,24,6],[37,8,25,6],[38,8,26,6],[39,8,27,6],[40,8,28,6],[41,8,29,6],[42,8,30,6],[43,8,31,6],[44,8,32,6],[45,8,33,6],[46,8,34,6],[47,8,35,6],[48,8,36,6],[49,8,37,6],[50,8,38,6],[51,8,39,6],[52,8,40,6],[52,12,40,10,"capturedGroupsCount"],[52,31,40,29],[52,34,40,32,"prefixMatch"],[52,45,40,43],[52,46,40,44,"length"],[52,52,40,50],[52,55,40,53],[52,56,40,54],[53,8,41,6],[53,12,41,10,"hasCapturedGroups"],[53,29,41,27],[53,32,41,30,"capturedGroupsCount"],[53,51,41,49],[53,54,41,52],[53,55,41,53],[53,59,41,57,"prefixMatch"],[53,70,41,68],[53,71,41,69,"capturedGroupsCount"],[53,90,41,88],[53,91,41,89],[54,8,42,6],[54,12,42,10,"metadata"],[54,20,42,18],[54,21,42,19,"nationalPrefixTransformRule"],[54,48,42,46],[54,49,42,47],[54,50,42,48],[54,54,42,52,"hasCapturedGroups"],[54,71,42,69],[54,73,42,71],[55,10,43,8,"nationalNumber"],[55,24,43,22],[55,27,43,25,"number"],[55,33,43,31],[55,34,43,32,"replace"],[55,41,43,39],[55,42,43,40,"prefixPattern"],[55,55,43,53],[55,57,43,55,"metadata"],[55,65,43,63],[55,66,43,64,"nationalPrefixTransformRule"],[55,93,43,91],[55,94,43,92],[55,95,43,93],[55,96,43,94],[56,10,44,8],[57,10,45,8],[58,10,46,8],[58,14,46,12,"capturedGroupsCount"],[58,33,46,31],[58,36,46,34],[58,37,46,35],[58,39,46,37],[59,12,47,10,"carrierCode"],[59,23,47,21],[59,26,47,24,"prefixMatch"],[59,37,47,35],[59,38,47,36],[59,39,47,37],[59,40,47,38],[60,10,48,8],[61,8,49,6],[62,8,50,6],[63,8,51,6],[64,8,52,6],[65,8,53,6],[66,8,54,6],[67,8,55,6],[68,8,55,6],[68,13,56,11],[69,10,57,8],[70,10,58,8],[71,10,59,8],[72,10,60,8],[73,10,61,8],[74,10,62,8],[74,14,62,12,"prefixBeforeNationalNumber"],[74,40,62,38],[74,43,62,41,"prefixMatch"],[74,54,62,52],[74,55,62,53],[74,56,62,54],[74,57,62,55],[75,10,63,8,"nationalNumber"],[75,24,63,22],[75,27,63,25,"number"],[75,33,63,31],[75,34,63,32,"slice"],[75,39,63,37],[75,40,63,38,"prefixBeforeNationalNumber"],[75,66,63,64],[75,67,63,65,"length"],[75,73,63,71],[75,74,63,72],[76,10,64,8],[77,10,65,8],[78,10,66,8],[78,14,66,12,"hasCapturedGroups"],[78,31,66,29],[78,33,66,31],[79,12,67,10,"carrierCode"],[79,23,67,21],[79,26,67,24,"prefixMatch"],[79,37,67,35],[79,38,67,36],[79,39,67,37],[79,40,67,38],[80,10,68,8],[81,8,69,6],[82,8,70,6],[83,8,71,6],[84,8,72,6],[85,8,73,6],[86,8,74,6],[87,8,75,6],[87,12,75,10,"nationalPrefix"],[87,26,75,24],[88,8,76,6],[88,12,76,10,"hasCapturedGroups"],[88,29,76,27],[88,31,76,29],[89,10,77,8],[89,14,77,12,"possiblePositionOfTheFirstCapturedGroup"],[89,53,77,51],[89,56,77,54,"number"],[89,62,77,60],[89,63,77,61,"indexOf"],[89,70,77,68],[89,71,77,69,"prefixMatch"],[89,82,77,80],[89,83,77,81],[89,84,77,82],[89,85,77,83],[89,86,77,84],[90,10,78,8],[90,14,78,12,"possibleNationalPrefix"],[90,36,78,34],[90,39,78,37,"number"],[90,45,78,43],[90,46,78,44,"slice"],[90,51,78,49],[90,52,78,50],[90,53,78,51],[90,55,78,53,"possiblePositionOfTheFirstCapturedGroup"],[90,94,78,92],[90,95,78,93],[91,10,79,8],[92,10,80,8],[93,10,81,8],[94,10,82,8],[95,10,83,8],[96,10,84,8],[97,10,85,8],[97,14,85,12,"possibleNationalPrefix"],[97,36,85,34],[97,41,85,39,"metadata"],[97,49,85,47],[97,50,85,48,"numberingPlan"],[97,63,85,61],[97,64,85,62,"nationalPrefix"],[97,78,85,76],[97,79,85,77],[97,80,85,78],[97,82,85,80],[98,12,86,10,"nationalPrefix"],[98,26,86,24],[98,29,86,27,"metadata"],[98,37,86,35],[98,38,86,36,"numberingPlan"],[98,51,86,49],[98,52,86,50,"nationalPrefix"],[98,66,86,64],[98,67,86,65],[98,68,86,66],[99,10,87,8],[100,8,88,6],[100,9,88,7],[100,15,88,13],[101,10,89,8,"nationalPrefix"],[101,24,89,22],[101,27,89,25,"prefixMatch"],[101,38,89,36],[101,39,89,37],[101,40,89,38],[101,41,89,39],[102,8,90,6],[103,8,91,6],[103,15,91,13],[104,10,92,8,"nationalNumber"],[104,24,92,22],[104,26,92,24,"nationalNumber"],[104,40,92,38],[105,10,93,8,"nationalPrefix"],[105,24,93,22],[105,26,93,24,"nationalPrefix"],[105,40,93,38],[106,10,94,8,"carrierCode"],[106,21,94,19],[106,23,94,21,"carrierCode"],[107,8,95,6],[107,9,95,7],[108,6,96,4],[109,4,97,2],[110,4,98,2],[110,11,98,9],[111,6,99,4,"nationalNumber"],[111,20,99,18],[111,22,99,20,"number"],[112,4,100,2],[112,5,100,3],[113,2,101,0],[114,0,101,1],[114,3]],"functionMap":{"names":["<global>","extractNationalNumberFromPossiblyIncompleteNumber"],"mappings":"AAA;eCa;CDuF"},"hasCjsExports":false},"type":"js/module"}]}