{"dependencies":[{"name":"./helpers/checkNumberLength.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":63,"index":63}}],"key":"jIYSIRWiHLhrxK4fuZOnPpePsNc=","exportNames":["*"],"imports":1}},{"name":"./helpers/parseDigits.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":64},"end":{"line":2,"column":51,"index":115}}],"key":"kt77naTQfnvAVR3M0VS9lEVIJgs=","exportNames":["*"],"imports":1}},{"name":"./helpers/formatNationalNumberUsingFormat.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":116},"end":{"line":3,"column":91,"index":207}}],"key":"6yNpH4EJSt1amn8mEC3h/1rraLw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return formatCompleteNumber;\n    }\n  });\n  exports.canFormatCompleteNumber = canFormatCompleteNumber;\n  var _helpersCheckNumberLengthJs = require(_dependencyMap[0], \"./helpers/checkNumberLength.js\");\n  var checkNumberLength = _interopDefault(_helpersCheckNumberLengthJs);\n  var _helpersParseDigitsJs = require(_dependencyMap[1], \"./helpers/parseDigits.js\");\n  var parseDigits = _interopDefault(_helpersParseDigitsJs);\n  var _helpersFormatNationalNumberUsingFormatJs = require(_dependencyMap[2], \"./helpers/formatNationalNumberUsingFormat.js\");\n  var formatNationalNumberUsingFormat = _interopDefault(_helpersFormatNationalNumberUsingFormatJs);\n  function formatCompleteNumber(state, format, _ref) {\n    var metadata = _ref.metadata,\n      shouldTryNationalPrefixFormattingRule = _ref.shouldTryNationalPrefixFormattingRule,\n      getSeparatorAfterNationalPrefix = _ref.getSeparatorAfterNationalPrefix;\n    var matcher = new RegExp(\"^(?:\".concat(format.pattern(), \")$\"));\n    if (matcher.test(state.nationalSignificantNumber)) {\n      return formatNationalNumberWithAndWithoutNationalPrefixFormattingRule(state, format, {\n        metadata: metadata,\n        shouldTryNationalPrefixFormattingRule: shouldTryNationalPrefixFormattingRule,\n        getSeparatorAfterNationalPrefix: getSeparatorAfterNationalPrefix\n      });\n    }\n  }\n  function canFormatCompleteNumber(nationalSignificantNumber, country, metadata) {\n    return (0, checkNumberLength.default)(nationalSignificantNumber, country, metadata) === 'IS_POSSIBLE';\n  }\n  function formatNationalNumberWithAndWithoutNationalPrefixFormattingRule(state, format, _ref2) {\n    var metadata = _ref2.metadata,\n      shouldTryNationalPrefixFormattingRule = _ref2.shouldTryNationalPrefixFormattingRule,\n      getSeparatorAfterNationalPrefix = _ref2.getSeparatorAfterNationalPrefix;\n    // `format` has already been checked for `nationalPrefix` requirement.\n\n    var nationalSignificantNumber = state.nationalSignificantNumber,\n      international = state.international,\n      nationalPrefix = state.nationalPrefix,\n      carrierCode = state.carrierCode;\n\n    // Format the number with using `national_prefix_formatting_rule`.\n    // If the resulting formatted number is a valid formatted number, then return it.\n    //\n    // Google's AsYouType formatter is different in a way that it doesn't try\n    // to format using the \"national prefix formatting rule\", and instead it\n    // simply prepends a national prefix followed by a \" \" character.\n    // This code does that too, but as a fallback.\n    // The reason is that \"national prefix formatting rule\" may use parentheses,\n    // which wouldn't be included has it used the simpler Google's way.\n    //\n    if (shouldTryNationalPrefixFormattingRule(format)) {\n      var formattedNumber = formatNationalNumber(state, format, {\n        useNationalPrefixFormattingRule: true,\n        getSeparatorAfterNationalPrefix: getSeparatorAfterNationalPrefix,\n        metadata: metadata\n      });\n      if (formattedNumber) {\n        return formattedNumber;\n      }\n    }\n\n    // Format the number without using `national_prefix_formatting_rule`.\n    return formatNationalNumber(state, format, {\n      useNationalPrefixFormattingRule: false,\n      getSeparatorAfterNationalPrefix: getSeparatorAfterNationalPrefix,\n      metadata: metadata\n    });\n  }\n  function formatNationalNumber(state, format, _ref3) {\n    var metadata = _ref3.metadata,\n      useNationalPrefixFormattingRule = _ref3.useNationalPrefixFormattingRule,\n      getSeparatorAfterNationalPrefix = _ref3.getSeparatorAfterNationalPrefix;\n    var formattedNationalNumber = (0, formatNationalNumberUsingFormat.default)(state.nationalSignificantNumber, format, {\n      carrierCode: state.carrierCode,\n      useInternationalFormat: state.international,\n      withNationalPrefix: useNationalPrefixFormattingRule,\n      metadata: metadata\n    });\n    if (!useNationalPrefixFormattingRule) {\n      if (state.nationalPrefix) {\n        // If a national prefix was extracted, then just prepend it,\n        // followed by a \" \" character.\n        formattedNationalNumber = state.nationalPrefix + getSeparatorAfterNationalPrefix(format) + formattedNationalNumber;\n      } else if (state.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix) {\n        formattedNationalNumber = state.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix + ' ' + formattedNationalNumber;\n      }\n    }\n    if (isValidFormattedNationalNumber(formattedNationalNumber, state)) {\n      return formattedNationalNumber;\n    }\n  }\n\n  // Check that the formatted phone number contains exactly\n  // the same digits that have been input by the user.\n  // For example, when \"0111523456789\" is input for `AR` country,\n  // the extracted `this.nationalSignificantNumber` is \"91123456789\",\n  // which means that the national part of `this.digits` isn't simply equal to\n  // `this.nationalPrefix` + `this.nationalSignificantNumber`.\n  //\n  // Also, a `format` can add extra digits to the `this.nationalSignificantNumber`\n  // being formatted via `metadata[country].national_prefix_transform_rule`.\n  // For example, for `VI` country, it prepends `340` to the national number,\n  // and if this check hasn't been implemented, then there would be a bug\n  // when `340` \"area coude\" is \"duplicated\" during input for `VI` country:\n  // https://github.com/catamphetamine/libphonenumber-js/issues/318\n  //\n  // So, all these \"gotchas\" are filtered out.\n  //\n  // In the original Google's code, the comments say:\n  // \"Check that we didn't remove nor add any extra digits when we matched\n  // this formatting pattern. This usually happens after we entered the last\n  // digit during AYTF. Eg: In case of MX, we swallow mobile token (1) when\n  // formatted but AYTF should retain all the number entered and not change\n  // in order to match a format (of same leading digits and length) display\n  // in that way.\"\n  // \"If it's the same (i.e entered number and format is same), then it's\n  // safe to return this in formatted number as nothing is lost / added.\"\n  // Otherwise, don't use this format.\n  // https://github.com/google/libphonenumber/commit/3e7c1f04f5e7200f87fb131e6f85c6e99d60f510#diff-9149457fa9f5d608a11bb975c6ef4bc5\n  // https://github.com/google/libphonenumber/commit/3ac88c7106e7dcb553bcc794b15f19185928a1c6#diff-2dcb77e833422ee304da348b905cde0b\n  //\n  function isValidFormattedNationalNumber(formattedNationalNumber, state) {\n    return (0, parseDigits.default)(formattedNationalNumber) === state.getNationalDigits();\n  }\n});","lineCount":136,"map":[[12,2,4,15,"Object"],[12,8,4,15],[12,9,4,15,"defineProperty"],[12,23,4,15],[12,24,4,15,"exports"],[12,31,4,15],[13,4,4,15,"enumerable"],[13,14,4,15],[14,4,4,15,"get"],[14,7,4,15],[14,18,4,15,"get"],[14,19,4,15],[15,6,4,15],[15,13,4,15,"formatCompleteNumber"],[15,33,4,15],[16,4,4,15],[17,2,4,15],[18,2,17,0,"exports"],[18,9,17,0],[18,10,17,0,"canFormatCompleteNumber"],[18,33,17,0],[18,36,17,0,"canFormatCompleteNumber"],[18,59,17,0],[19,2,1,0],[19,6,1,0,"_helpersCheckNumberLengthJs"],[19,33,1,0],[19,36,1,0,"require"],[19,43,1,0],[19,44,1,0,"_dependencyMap"],[19,58,1,0],[20,2,1,0],[20,6,1,0,"checkNumberLength"],[20,23,1,0],[20,26,1,0,"_interopDefault"],[20,41,1,0],[20,42,1,0,"_helpersCheckNumberLengthJs"],[20,69,1,0],[21,2,2,0],[21,6,2,0,"_helpersParseDigitsJs"],[21,27,2,0],[21,30,2,0,"require"],[21,37,2,0],[21,38,2,0,"_dependencyMap"],[21,52,2,0],[22,2,2,0],[22,6,2,0,"parseDigits"],[22,17,2,0],[22,20,2,0,"_interopDefault"],[22,35,2,0],[22,36,2,0,"_helpersParseDigitsJs"],[22,57,2,0],[23,2,3,0],[23,6,3,0,"_helpersFormatNationalNumberUsingFormatJs"],[23,47,3,0],[23,50,3,0,"require"],[23,57,3,0],[23,58,3,0,"_dependencyMap"],[23,72,3,0],[24,2,3,0],[24,6,3,0,"formatNationalNumberUsingFormat"],[24,37,3,0],[24,40,3,0,"_interopDefault"],[24,55,3,0],[24,56,3,0,"_helpersFormatNationalNumberUsingFormatJs"],[24,97,3,0],[25,2,4,15],[25,11,4,24,"formatCompleteNumber"],[25,31,4,44,"formatCompleteNumber"],[25,32,4,45,"state"],[25,37,4,50],[25,39,4,52,"format"],[25,45,4,58],[25,47,4,60,"_ref"],[25,51,4,64],[25,53,4,66],[26,4,5,2],[26,8,5,6,"metadata"],[26,16,5,14],[26,19,5,17,"_ref"],[26,23,5,21],[26,24,5,22,"metadata"],[26,32,5,30],[27,6,6,4,"shouldTryNationalPrefixFormattingRule"],[27,43,6,41],[27,46,6,44,"_ref"],[27,50,6,48],[27,51,6,49,"shouldTryNationalPrefixFormattingRule"],[27,88,6,86],[28,6,7,4,"getSeparatorAfterNationalPrefix"],[28,37,7,35],[28,40,7,38,"_ref"],[28,44,7,42],[28,45,7,43,"getSeparatorAfterNationalPrefix"],[28,76,7,74],[29,4,8,2],[29,8,8,6,"matcher"],[29,15,8,13],[29,18,8,16],[29,22,8,20,"RegExp"],[29,28,8,26],[29,29,8,27],[29,35,8,33],[29,36,8,34,"concat"],[29,42,8,40],[29,43,8,41,"format"],[29,49,8,47],[29,50,8,48,"pattern"],[29,57,8,55],[29,58,8,56],[29,59,8,57],[29,61,8,59],[29,65,8,63],[29,66,8,64],[29,67,8,65],[30,4,9,2],[30,8,9,6,"matcher"],[30,15,9,13],[30,16,9,14,"test"],[30,20,9,18],[30,21,9,19,"state"],[30,26,9,24],[30,27,9,25,"nationalSignificantNumber"],[30,52,9,50],[30,53,9,51],[30,55,9,53],[31,6,10,4],[31,13,10,11,"formatNationalNumberWithAndWithoutNationalPrefixFormattingRule"],[31,75,10,73],[31,76,10,74,"state"],[31,81,10,79],[31,83,10,81,"format"],[31,89,10,87],[31,91,10,89],[32,8,11,6,"metadata"],[32,16,11,14],[32,18,11,16,"metadata"],[32,26,11,24],[33,8,12,6,"shouldTryNationalPrefixFormattingRule"],[33,45,12,43],[33,47,12,45,"shouldTryNationalPrefixFormattingRule"],[33,84,12,82],[34,8,13,6,"getSeparatorAfterNationalPrefix"],[34,39,13,37],[34,41,13,39,"getSeparatorAfterNationalPrefix"],[35,6,14,4],[35,7,14,5],[35,8,14,6],[36,4,15,2],[37,2,16,0],[38,2,17,7],[38,11,17,16,"canFormatCompleteNumber"],[38,34,17,39,"canFormatCompleteNumber"],[38,35,17,40,"nationalSignificantNumber"],[38,60,17,65],[38,62,17,67,"country"],[38,69,17,74],[38,71,17,76,"metadata"],[38,79,17,84],[38,81,17,86],[39,4,18,2],[39,11,18,9],[39,15,18,9,"checkNumberLength"],[39,32,18,26],[39,33,18,26,"default"],[39,40,18,26],[39,42,18,27,"nationalSignificantNumber"],[39,67,18,52],[39,69,18,54,"country"],[39,76,18,61],[39,78,18,63,"metadata"],[39,86,18,71],[39,87,18,72],[39,92,18,77],[39,105,18,90],[40,2,19,0],[41,2,20,0],[41,11,20,9,"formatNationalNumberWithAndWithoutNationalPrefixFormattingRule"],[41,73,20,71,"formatNationalNumberWithAndWithoutNationalPrefixFormattingRule"],[41,74,20,72,"state"],[41,79,20,77],[41,81,20,79,"format"],[41,87,20,85],[41,89,20,87,"_ref2"],[41,94,20,92],[41,96,20,94],[42,4,21,2],[42,8,21,6,"metadata"],[42,16,21,14],[42,19,21,17,"_ref2"],[42,24,21,22],[42,25,21,23,"metadata"],[42,33,21,31],[43,6,22,4,"shouldTryNationalPrefixFormattingRule"],[43,43,22,41],[43,46,22,44,"_ref2"],[43,51,22,49],[43,52,22,50,"shouldTryNationalPrefixFormattingRule"],[43,89,22,87],[44,6,23,4,"getSeparatorAfterNationalPrefix"],[44,37,23,35],[44,40,23,38,"_ref2"],[44,45,23,43],[44,46,23,44,"getSeparatorAfterNationalPrefix"],[44,77,23,75],[45,4,24,2],[47,4,26,2],[47,8,26,6,"nationalSignificantNumber"],[47,33,26,31],[47,36,26,34,"state"],[47,41,26,39],[47,42,26,40,"nationalSignificantNumber"],[47,67,26,65],[48,6,27,4,"international"],[48,19,27,17],[48,22,27,20,"state"],[48,27,27,25],[48,28,27,26,"international"],[48,41,27,39],[49,6,28,4,"nationalPrefix"],[49,20,28,18],[49,23,28,21,"state"],[49,28,28,26],[49,29,28,27,"nationalPrefix"],[49,43,28,41],[50,6,29,4,"carrierCode"],[50,17,29,15],[50,20,29,18,"state"],[50,25,29,23],[50,26,29,24,"carrierCode"],[50,37,29,35],[52,4,31,2],[53,4,32,2],[54,4,33,2],[55,4,34,2],[56,4,35,2],[57,4,36,2],[58,4,37,2],[59,4,38,2],[60,4,39,2],[61,4,40,2],[62,4,41,2],[62,8,41,6,"shouldTryNationalPrefixFormattingRule"],[62,45,41,43],[62,46,41,44,"format"],[62,52,41,50],[62,53,41,51],[62,55,41,53],[63,6,42,4],[63,10,42,8,"formattedNumber"],[63,25,42,23],[63,28,42,26,"formatNationalNumber"],[63,48,42,46],[63,49,42,47,"state"],[63,54,42,52],[63,56,42,54,"format"],[63,62,42,60],[63,64,42,62],[64,8,43,6,"useNationalPrefixFormattingRule"],[64,39,43,37],[64,41,43,39],[64,45,43,43],[65,8,44,6,"getSeparatorAfterNationalPrefix"],[65,39,44,37],[65,41,44,39,"getSeparatorAfterNationalPrefix"],[65,72,44,70],[66,8,45,6,"metadata"],[66,16,45,14],[66,18,45,16,"metadata"],[67,6,46,4],[67,7,46,5],[67,8,46,6],[68,6,47,4],[68,10,47,8,"formattedNumber"],[68,25,47,23],[68,27,47,25],[69,8,48,6],[69,15,48,13,"formattedNumber"],[69,30,48,28],[70,6,49,4],[71,4,50,2],[73,4,52,2],[74,4,53,2],[74,11,53,9,"formatNationalNumber"],[74,31,53,29],[74,32,53,30,"state"],[74,37,53,35],[74,39,53,37,"format"],[74,45,53,43],[74,47,53,45],[75,6,54,4,"useNationalPrefixFormattingRule"],[75,37,54,35],[75,39,54,37],[75,44,54,42],[76,6,55,4,"getSeparatorAfterNationalPrefix"],[76,37,55,35],[76,39,55,37,"getSeparatorAfterNationalPrefix"],[76,70,55,68],[77,6,56,4,"metadata"],[77,14,56,12],[77,16,56,14,"metadata"],[78,4,57,2],[78,5,57,3],[78,6,57,4],[79,2,58,0],[80,2,59,0],[80,11,59,9,"formatNationalNumber"],[80,31,59,29,"formatNationalNumber"],[80,32,59,30,"state"],[80,37,59,35],[80,39,59,37,"format"],[80,45,59,43],[80,47,59,45,"_ref3"],[80,52,59,50],[80,54,59,52],[81,4,60,2],[81,8,60,6,"metadata"],[81,16,60,14],[81,19,60,17,"_ref3"],[81,24,60,22],[81,25,60,23,"metadata"],[81,33,60,31],[82,6,61,4,"useNationalPrefixFormattingRule"],[82,37,61,35],[82,40,61,38,"_ref3"],[82,45,61,43],[82,46,61,44,"useNationalPrefixFormattingRule"],[82,77,61,75],[83,6,62,4,"getSeparatorAfterNationalPrefix"],[83,37,62,35],[83,40,62,38,"_ref3"],[83,45,62,43],[83,46,62,44,"getSeparatorAfterNationalPrefix"],[83,77,62,75],[84,4,63,2],[84,8,63,6,"formattedNationalNumber"],[84,31,63,29],[84,34,63,32],[84,38,63,32,"formatNationalNumberUsingFormat"],[84,69,63,63],[84,70,63,63,"default"],[84,77,63,63],[84,79,63,64,"state"],[84,84,63,69],[84,85,63,70,"nationalSignificantNumber"],[84,110,63,95],[84,112,63,97,"format"],[84,118,63,103],[84,120,63,105],[85,6,64,4,"carrierCode"],[85,17,64,15],[85,19,64,17,"state"],[85,24,64,22],[85,25,64,23,"carrierCode"],[85,36,64,34],[86,6,65,4,"useInternationalFormat"],[86,28,65,26],[86,30,65,28,"state"],[86,35,65,33],[86,36,65,34,"international"],[86,49,65,47],[87,6,66,4,"withNationalPrefix"],[87,24,66,22],[87,26,66,24,"useNationalPrefixFormattingRule"],[87,57,66,55],[88,6,67,4,"metadata"],[88,14,67,12],[88,16,67,14,"metadata"],[89,4,68,2],[89,5,68,3],[89,6,68,4],[90,4,69,2],[90,8,69,6],[90,9,69,7,"useNationalPrefixFormattingRule"],[90,40,69,38],[90,42,69,40],[91,6,70,4],[91,10,70,8,"state"],[91,15,70,13],[91,16,70,14,"nationalPrefix"],[91,30,70,28],[91,32,70,30],[92,8,71,6],[93,8,72,6],[94,8,73,6,"formattedNationalNumber"],[94,31,73,29],[94,34,73,32,"state"],[94,39,73,37],[94,40,73,38,"nationalPrefix"],[94,54,73,52],[94,57,73,55,"getSeparatorAfterNationalPrefix"],[94,88,73,86],[94,89,73,87,"format"],[94,95,73,93],[94,96,73,94],[94,99,73,97,"formattedNationalNumber"],[94,122,73,120],[95,6,74,4],[95,7,74,5],[95,13,74,11],[95,17,74,15,"state"],[95,22,74,20],[95,23,74,21,"prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix"],[95,83,74,81],[95,85,74,83],[96,8,75,6,"formattedNationalNumber"],[96,31,75,29],[96,34,75,32,"state"],[96,39,75,37],[96,40,75,38,"prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix"],[96,100,75,98],[96,103,75,101],[96,106,75,104],[96,109,75,107,"formattedNationalNumber"],[96,132,75,130],[97,6,76,4],[98,4,77,2],[99,4,78,2],[99,8,78,6,"isValidFormattedNationalNumber"],[99,38,78,36],[99,39,78,37,"formattedNationalNumber"],[99,62,78,60],[99,64,78,62,"state"],[99,69,78,67],[99,70,78,68],[99,72,78,70],[100,6,79,4],[100,13,79,11,"formattedNationalNumber"],[100,36,79,34],[101,4,80,2],[102,2,81,0],[104,2,83,0],[105,2,84,0],[106,2,85,0],[107,2,86,0],[108,2,87,0],[109,2,88,0],[110,2,89,0],[111,2,90,0],[112,2,91,0],[113,2,92,0],[114,2,93,0],[115,2,94,0],[116,2,95,0],[117,2,96,0],[118,2,97,0],[119,2,98,0],[120,2,99,0],[121,2,100,0],[122,2,101,0],[123,2,102,0],[124,2,103,0],[125,2,104,0],[126,2,105,0],[127,2,106,0],[128,2,107,0],[129,2,108,0],[130,2,109,0],[131,2,110,0],[132,2,111,0],[133,2,112,0],[133,11,112,9,"isValidFormattedNationalNumber"],[133,41,112,39,"isValidFormattedNationalNumber"],[133,42,112,40,"formattedNationalNumber"],[133,65,112,63],[133,67,112,65,"state"],[133,72,112,70],[133,74,112,72],[134,4,113,2],[134,11,113,9],[134,15,113,9,"parseDigits"],[134,26,113,20],[134,27,113,20,"default"],[134,34,113,20],[134,36,113,21,"formattedNationalNumber"],[134,59,113,44],[134,60,113,45],[134,65,113,50,"state"],[134,70,113,55],[134,71,113,56,"getNationalDigits"],[134,88,113,73],[134,89,113,74],[134,90,113,75],[135,2,114,0],[136,0,114,1],[136,3]],"functionMap":{"names":["<global>","formatCompleteNumber","canFormatCompleteNumber","formatNationalNumberWithAndWithoutNationalPrefixFormattingRule","formatNationalNumber","isValidFormattedNationalNumber"],"mappings":"AAA;eCG;CDY;OEC;CFE;AGC;CHsC;AIC;CJsB;AK+B;CLE"},"hasCjsExports":false},"type":"js/module"}]}