{"dependencies":[{"name":"./stripIddPrefix.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"BUmaKkoCF8ONVLJa/ALSZLeVkw0=","exportNames":["*"],"imports":1}},{"name":"./extractCountryCallingCodeFromInternationalNumberWithoutPlusSign.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":147,"index":197}}],"key":"C3oTjzh91LMStqUvHimZjE9KAmA=","exportNames":["*"],"imports":1}},{"name":"../metadata.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":198},"end":{"line":3,"column":38,"index":236}}],"key":"e+GcWU7PM4jYDq7rLAthu62vi9g=","exportNames":["*"],"imports":1}},{"name":"../constants.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":237},"end":{"line":4,"column":58,"index":295}}],"key":"w33QN4nlqAZn5CNK6M5HKbLWgBA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return extractCountryCallingCode;\n    }\n  });\n  var _stripIddPrefixJs = require(_dependencyMap[0], \"./stripIddPrefix.js\");\n  var stripIddPrefix = _interopDefault(_stripIddPrefixJs);\n  var _extractCountryCallingCodeFromInternationalNumberWithoutPlusSignJs = require(_dependencyMap[1], \"./extractCountryCallingCodeFromInternationalNumberWithoutPlusSign.js\");\n  var extractCountryCallingCodeFromInternationalNumberWithoutPlusSign = _interopDefault(_extractCountryCallingCodeFromInternationalNumberWithoutPlusSignJs);\n  var _metadataJs = require(_dependencyMap[2], \"../metadata.js\");\n  var Metadata = _interopDefault(_metadataJs);\n  var _constantsJs = require(_dependencyMap[3], \"../constants.js\");\n  /**\r\n   * Converts a phone number digits (possibly with a `+`)\r\n   * into a calling code and the rest phone number digits.\r\n   * The \"rest phone number digits\" could include\r\n   * a national prefix, carrier code, and national\r\n   * (significant) number.\r\n   * @param  {string} number — Phone number digits (possibly with a `+`).\r\n   * @param  {string} [country] — Country.\r\n   * @param  {string} [defaultCountry] — Default country.\r\n   * @param  {string} [defaultCallingCode] — Default calling code (some phone numbering plans are non-geographic).\r\n   * @param  {object} metadata\r\n   * @return {object} `{ countryCallingCodeSource: string?, countryCallingCode: string?, number: string }`\r\n   * @example\r\n   * // Returns `{ countryCallingCode: \"1\", number: \"2133734253\" }`.\r\n   * extractCountryCallingCode('2133734253', null, 'US', null, metadata)\r\n   * extractCountryCallingCode('2133734253', null, null, '1', metadata)\r\n   * extractCountryCallingCode('+12133734253', null, null, null, metadata)\r\n   * extractCountryCallingCode('+12133734253', null, 'RU', null, metadata)\r\n   */\n  function extractCountryCallingCode(number, country, defaultCountry, defaultCallingCode, metadata) {\n    if (!number) {\n      return {};\n    }\n    var isNumberWithIddPrefix;\n\n    // If this is not an international phone number,\n    // then either extract an \"IDD\" prefix, or extract a\n    // country calling code from a number by autocorrecting it\n    // by prepending a leading `+` in cases when it starts\n    // with the country calling code.\n    // https://wikitravel.org/en/International_dialling_prefix\n    // https://github.com/catamphetamine/libphonenumber-js/issues/376\n    if (number[0] !== '+') {\n      // Convert an \"out-of-country\" dialing phone number\n      // to a proper international phone number.\n      var numberWithoutIDD = (0, stripIddPrefix.default)(number, country || defaultCountry, defaultCallingCode, metadata);\n      // If an IDD prefix was stripped then\n      // convert the number to international one\n      // for subsequent parsing.\n      if (numberWithoutIDD && numberWithoutIDD !== number) {\n        isNumberWithIddPrefix = true;\n        number = '+' + numberWithoutIDD;\n      } else {\n        // Check to see if the number starts with the country calling code\n        // for the default country. If so, we remove the country calling code,\n        // and do some checks on the validity of the number before and after.\n        // https://github.com/catamphetamine/libphonenumber-js/issues/376\n        if (country || defaultCountry || defaultCallingCode) {\n          var _extractCountryCallin = (0, extractCountryCallingCodeFromInternationalNumberWithoutPlusSign.default)(number, country, defaultCountry, defaultCallingCode, metadata),\n            countryCallingCode = _extractCountryCallin.countryCallingCode,\n            shorterNumber = _extractCountryCallin.number;\n          if (countryCallingCode) {\n            return {\n              countryCallingCodeSource: 'FROM_NUMBER_WITHOUT_PLUS_SIGN',\n              countryCallingCode: countryCallingCode,\n              number: shorterNumber\n            };\n          }\n        }\n        return {\n          // No need to set it to `UNSPECIFIED`. It can be just `undefined`.\n          // countryCallingCodeSource: 'UNSPECIFIED',\n          number: number\n        };\n      }\n    }\n\n    // `number` can only be international at this point.\n\n    // Fast abortion: country codes do not begin with a '0'\n    if (number[1] === '0') {\n      return {};\n    }\n    metadata = new Metadata.default(metadata);\n\n    // The thing with country phone codes\n    // is that they are orthogonal to each other\n    // i.e. there's no such country phone code A\n    // for which country phone code B exists\n    // where B starts with A.\n    // Therefore, while scanning digits,\n    // if a valid country code is found,\n    // that means that it is the country code.\n    //\n    var i = 2;\n    while (i - 1 <= _constantsJs.MAX_LENGTH_COUNTRY_CODE && i <= number.length) {\n      var _countryCallingCode = number.slice(1, i);\n      if (metadata.hasCallingCode(_countryCallingCode)) {\n        metadata.selectNumberingPlan(_countryCallingCode);\n        return {\n          countryCallingCodeSource: isNumberWithIddPrefix ? 'FROM_NUMBER_WITH_IDD' : 'FROM_NUMBER_WITH_PLUS_SIGN',\n          countryCallingCode: _countryCallingCode,\n          number: number.slice(i)\n        };\n      }\n      i++;\n    }\n    return {};\n  }\n\n  // The possible values for the returned `countryCallingCodeSource` are:\n  //\n  // Copy-pasted from:\n  // https://github.com/google/libphonenumber/blob/master/resources/phonenumber.proto\n  //\n  // // The source from which the country_code is derived. This is not set in the\n  // // general parsing method, but in the method that parses and keeps raw_input.\n  // // New fields could be added upon request.\n  // enum CountryCodeSource {\n  //  // Default value returned if this is not set, because the phone number was\n  //  // created using parse, not parseAndKeepRawInput. hasCountryCodeSource will\n  //  // return false if this is the case.\n  //  UNSPECIFIED = 0;\n  //\n  //  // The country_code is derived based on a phone number with a leading \"+\",\n  //  // e.g. the French number \"+33 1 42 68 53 00\".\n  //  FROM_NUMBER_WITH_PLUS_SIGN = 1;\n  //\n  //  // The country_code is derived based on a phone number with a leading IDD,\n  //  // e.g. the French number \"011 33 1 42 68 53 00\", as it is dialled from US.\n  //  FROM_NUMBER_WITH_IDD = 5;\n  //\n  //  // The country_code is derived based on a phone number without a leading\n  //  // \"+\", e.g. the French number \"33 1 42 68 53 00\" when defaultCountry is\n  //  // supplied as France.\n  //  FROM_NUMBER_WITHOUT_PLUS_SIGN = 10;\n  //\n  //  // The country_code is derived NOT based on the phone number itself, but\n  //  // from the defaultCountry parameter provided in the parsing function by the\n  //  // clients. This happens mostly for numbers written in the national format\n  //  // (without country code). For example, this would be set when parsing the\n  //  // French number \"01 42 68 53 00\", when defaultCountry is supplied as\n  //  // France.\n  //  FROM_DEFAULT_COUNTRY = 20;\n  // }\n});","lineCount":160,"map":[[12,2,25,15,"Object"],[12,8,25,15],[12,9,25,15,"defineProperty"],[12,23,25,15],[12,24,25,15,"exports"],[12,31,25,15],[13,4,25,15,"enumerable"],[13,14,25,15],[14,4,25,15,"get"],[14,7,25,15],[14,18,25,15,"get"],[14,19,25,15],[15,6,25,15],[15,13,25,15,"extractCountryCallingCode"],[15,38,25,15],[16,4,25,15],[17,2,25,15],[18,2,1,0],[18,6,1,0,"_stripIddPrefixJs"],[18,23,1,0],[18,26,1,0,"require"],[18,33,1,0],[18,34,1,0,"_dependencyMap"],[18,48,1,0],[19,2,1,0],[19,6,1,0,"stripIddPrefix"],[19,20,1,0],[19,23,1,0,"_interopDefault"],[19,38,1,0],[19,39,1,0,"_stripIddPrefixJs"],[19,56,1,0],[20,2,2,0],[20,6,2,0,"_extractCountryCallingCodeFromInternationalNumberWithoutPlusSignJs"],[20,72,2,0],[20,75,2,0,"require"],[20,82,2,0],[20,83,2,0,"_dependencyMap"],[20,97,2,0],[21,2,2,0],[21,6,2,0,"extractCountryCallingCodeFromInternationalNumberWithoutPlusSign"],[21,69,2,0],[21,72,2,0,"_interopDefault"],[21,87,2,0],[21,88,2,0,"_extractCountryCallingCodeFromInternationalNumberWithoutPlusSignJs"],[21,154,2,0],[22,2,3,0],[22,6,3,0,"_metadataJs"],[22,17,3,0],[22,20,3,0,"require"],[22,27,3,0],[22,28,3,0,"_dependencyMap"],[22,42,3,0],[23,2,3,0],[23,6,3,0,"Metadata"],[23,14,3,0],[23,17,3,0,"_interopDefault"],[23,32,3,0],[23,33,3,0,"_metadataJs"],[23,44,3,0],[24,2,4,0],[24,6,4,0,"_constantsJs"],[24,18,4,0],[24,21,4,0,"require"],[24,28,4,0],[24,29,4,0,"_dependencyMap"],[24,43,4,0],[25,2,6,0],[26,0,7,0],[27,0,8,0],[28,0,9,0],[29,0,10,0],[30,0,11,0],[31,0,12,0],[32,0,13,0],[33,0,14,0],[34,0,15,0],[35,0,16,0],[36,0,17,0],[37,0,18,0],[38,0,19,0],[39,0,20,0],[40,0,21,0],[41,0,22,0],[42,0,23,0],[43,0,24,0],[44,2,25,15],[44,11,25,24,"extractCountryCallingCode"],[44,36,25,49,"extractCountryCallingCode"],[44,37,25,50,"number"],[44,43,25,56],[44,45,25,58,"country"],[44,52,25,65],[44,54,25,67,"defaultCountry"],[44,68,25,81],[44,70,25,83,"defaultCallingCode"],[44,88,25,101],[44,90,25,103,"metadata"],[44,98,25,111],[44,100,25,113],[45,4,26,2],[45,8,26,6],[45,9,26,7,"number"],[45,15,26,13],[45,17,26,15],[46,6,27,4],[46,13,27,11],[46,14,27,12],[46,15,27,13],[47,4,28,2],[48,4,29,2],[48,8,29,6,"isNumberWithIddPrefix"],[48,29,29,27],[50,4,31,2],[51,4,32,2],[52,4,33,2],[53,4,34,2],[54,4,35,2],[55,4,36,2],[56,4,37,2],[57,4,38,2],[57,8,38,6,"number"],[57,14,38,12],[57,15,38,13],[57,16,38,14],[57,17,38,15],[57,22,38,20],[57,25,38,23],[57,27,38,25],[58,6,39,4],[59,6,40,4],[60,6,41,4],[60,10,41,8,"numberWithoutIDD"],[60,26,41,24],[60,29,41,27],[60,33,41,27,"stripIddPrefix"],[60,47,41,41],[60,48,41,41,"default"],[60,55,41,41],[60,57,41,42,"number"],[60,63,41,48],[60,65,41,50,"country"],[60,72,41,57],[60,76,41,61,"defaultCountry"],[60,90,41,75],[60,92,41,77,"defaultCallingCode"],[60,110,41,95],[60,112,41,97,"metadata"],[60,120,41,105],[60,121,41,106],[61,6,42,4],[62,6,43,4],[63,6,44,4],[64,6,45,4],[64,10,45,8,"numberWithoutIDD"],[64,26,45,24],[64,30,45,28,"numberWithoutIDD"],[64,46,45,44],[64,51,45,49,"number"],[64,57,45,55],[64,59,45,57],[65,8,46,6,"isNumberWithIddPrefix"],[65,29,46,27],[65,32,46,30],[65,36,46,34],[66,8,47,6,"number"],[66,14,47,12],[66,17,47,15],[66,20,47,18],[66,23,47,21,"numberWithoutIDD"],[66,39,47,37],[67,6,48,4],[67,7,48,5],[67,13,48,11],[68,8,49,6],[69,8,50,6],[70,8,51,6],[71,8,52,6],[72,8,53,6],[72,12,53,10,"country"],[72,19,53,17],[72,23,53,21,"defaultCountry"],[72,37,53,35],[72,41,53,39,"defaultCallingCode"],[72,59,53,57],[72,61,53,59],[73,10,54,8],[73,14,54,12,"_extractCountryCallin"],[73,35,54,33],[73,38,54,36],[73,42,54,36,"extractCountryCallingCodeFromInternationalNumberWithoutPlusSign"],[73,105,54,99],[73,106,54,99,"default"],[73,113,54,99],[73,115,54,100,"number"],[73,121,54,106],[73,123,54,108,"country"],[73,130,54,115],[73,132,54,117,"defaultCountry"],[73,146,54,131],[73,148,54,133,"defaultCallingCode"],[73,166,54,151],[73,168,54,153,"metadata"],[73,176,54,161],[73,177,54,162],[74,12,55,10,"countryCallingCode"],[74,30,55,28],[74,33,55,31,"_extractCountryCallin"],[74,54,55,52],[74,55,55,53,"countryCallingCode"],[74,73,55,71],[75,12,56,10,"shorterNumber"],[75,25,56,23],[75,28,56,26,"_extractCountryCallin"],[75,49,56,47],[75,50,56,48,"number"],[75,56,56,54],[76,10,57,8],[76,14,57,12,"countryCallingCode"],[76,32,57,30],[76,34,57,32],[77,12,58,10],[77,19,58,17],[78,14,59,12,"countryCallingCodeSource"],[78,38,59,36],[78,40,59,38],[78,71,59,69],[79,14,60,12,"countryCallingCode"],[79,32,60,30],[79,34,60,32,"countryCallingCode"],[79,52,60,50],[80,14,61,12,"number"],[80,20,61,18],[80,22,61,20,"shorterNumber"],[81,12,62,10],[81,13,62,11],[82,10,63,8],[83,8,64,6],[84,8,65,6],[84,15,65,13],[85,10,66,8],[86,10,67,8],[87,10,68,8,"number"],[87,16,68,14],[87,18,68,16,"number"],[88,8,69,6],[88,9,69,7],[89,6,70,4],[90,4,71,2],[92,4,73,2],[94,4,75,2],[95,4,76,2],[95,8,76,6,"number"],[95,14,76,12],[95,15,76,13],[95,16,76,14],[95,17,76,15],[95,22,76,20],[95,25,76,23],[95,27,76,25],[96,6,77,4],[96,13,77,11],[96,14,77,12],[96,15,77,13],[97,4,78,2],[98,4,79,2,"metadata"],[98,12,79,10],[98,15,79,13],[98,19,79,17,"Metadata"],[98,27,79,25],[98,28,79,25,"default"],[98,35,79,25],[98,36,79,26,"metadata"],[98,44,79,34],[98,45,79,35],[100,4,81,2],[101,4,82,2],[102,4,83,2],[103,4,84,2],[104,4,85,2],[105,4,86,2],[106,4,87,2],[107,4,88,2],[108,4,89,2],[109,4,90,2],[109,8,90,6,"i"],[109,9,90,7],[109,12,90,10],[109,13,90,11],[110,4,91,2],[110,11,91,9,"i"],[110,12,91,10],[110,15,91,13],[110,16,91,14],[110,20,91,18,"MAX_LENGTH_COUNTRY_CODE"],[110,32,91,41],[110,33,91,41,"MAX_LENGTH_COUNTRY_CODE"],[110,56,91,41],[110,60,91,45,"i"],[110,61,91,46],[110,65,91,50,"number"],[110,71,91,56],[110,72,91,57,"length"],[110,78,91,63],[110,80,91,65],[111,6,92,4],[111,10,92,8,"_countryCallingCode"],[111,29,92,27],[111,32,92,30,"number"],[111,38,92,36],[111,39,92,37,"slice"],[111,44,92,42],[111,45,92,43],[111,46,92,44],[111,48,92,46,"i"],[111,49,92,47],[111,50,92,48],[112,6,93,4],[112,10,93,8,"metadata"],[112,18,93,16],[112,19,93,17,"hasCallingCode"],[112,33,93,31],[112,34,93,32,"_countryCallingCode"],[112,53,93,51],[112,54,93,52],[112,56,93,54],[113,8,94,6,"metadata"],[113,16,94,14],[113,17,94,15,"selectNumberingPlan"],[113,36,94,34],[113,37,94,35,"_countryCallingCode"],[113,56,94,54],[113,57,94,55],[114,8,95,6],[114,15,95,13],[115,10,96,8,"countryCallingCodeSource"],[115,34,96,32],[115,36,96,34,"isNumberWithIddPrefix"],[115,57,96,55],[115,60,96,58],[115,82,96,80],[115,85,96,83],[115,113,96,111],[116,10,97,8,"countryCallingCode"],[116,28,97,26],[116,30,97,28,"_countryCallingCode"],[116,49,97,47],[117,10,98,8,"number"],[117,16,98,14],[117,18,98,16,"number"],[117,24,98,22],[117,25,98,23,"slice"],[117,30,98,28],[117,31,98,29,"i"],[117,32,98,30],[118,8,99,6],[118,9,99,7],[119,6,100,4],[120,6,101,4,"i"],[120,7,101,5],[120,9,101,7],[121,4,102,2],[122,4,103,2],[122,11,103,9],[122,12,103,10],[122,13,103,11],[123,2,104,0],[125,2,106,0],[126,2,107,0],[127,2,108,0],[128,2,109,0],[129,2,110,0],[130,2,111,0],[131,2,112,0],[132,2,113,0],[133,2,114,0],[134,2,115,0],[135,2,116,0],[136,2,117,0],[137,2,118,0],[138,2,119,0],[139,2,120,0],[140,2,121,0],[141,2,122,0],[142,2,123,0],[143,2,124,0],[144,2,125,0],[145,2,126,0],[146,2,127,0],[147,2,128,0],[148,2,129,0],[149,2,130,0],[150,2,131,0],[151,2,132,0],[152,2,133,0],[153,2,134,0],[154,2,135,0],[155,2,136,0],[156,2,137,0],[157,2,138,0],[158,2,139,0],[159,2,140,0],[160,0,140,0],[160,3]],"functionMap":{"names":["<global>","extractCountryCallingCode"],"mappings":"AAA;eCwB;CD+E"},"hasCjsExports":false},"type":"js/module"}]}