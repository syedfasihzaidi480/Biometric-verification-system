{"dependencies":[{"name":"../constants.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":365},"end":{"line":9,"column":25,"index":426}}],"key":"w33QN4nlqAZn5CNK6M5HKbLWgBA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return extractPhoneContext;\n    }\n  });\n  Object.defineProperty(exports, \"PLUS_SIGN\", {\n    enumerable: true,\n    get: function () {\n      return PLUS_SIGN;\n    }\n  });\n  Object.defineProperty(exports, \"RFC3966_PREFIX_\", {\n    enumerable: true,\n    get: function () {\n      return RFC3966_PREFIX_;\n    }\n  });\n  Object.defineProperty(exports, \"RFC3966_PHONE_CONTEXT_\", {\n    enumerable: true,\n    get: function () {\n      return RFC3966_PHONE_CONTEXT_;\n    }\n  });\n  Object.defineProperty(exports, \"RFC3966_ISDN_SUBADDRESS_\", {\n    enumerable: true,\n    get: function () {\n      return RFC3966_ISDN_SUBADDRESS_;\n    }\n  });\n  exports.isPhoneContextValid = isPhoneContextValid;\n  var _constantsJs = require(_dependencyMap[0], \"../constants.js\");\n  // When phone numbers are written in `RFC3966` format — `\"tel:+12133734253\"` —\n  // they can have their \"calling code\" part written separately in a `phone-context` parameter.\n  // Example: `\"tel:12133734253;phone-context=+1\"`.\n  // This function parses the full phone number from the local number and the `phone-context`\n  // when the `phone-context` contains a `+` sign.\n\n  var PLUS_SIGN = '+';\n  var RFC3966_VISUAL_SEPARATOR_ = '[\\\\-\\\\.\\\\(\\\\)]?';\n  var RFC3966_PHONE_DIGIT_ = '(' + '[' + _constantsJs.VALID_DIGITS + ']' + '|' + RFC3966_VISUAL_SEPARATOR_ + ')';\n  var RFC3966_GLOBAL_NUMBER_DIGITS_ = '^' + '\\\\' + PLUS_SIGN + RFC3966_PHONE_DIGIT_ + '*' + '[' + _constantsJs.VALID_DIGITS + ']' + RFC3966_PHONE_DIGIT_ + '*' + '$';\n\n  /**\r\n   * Regular expression of valid global-number-digits for the phone-context\r\n   * parameter, following the syntax defined in RFC3966.\r\n   */\n  var RFC3966_GLOBAL_NUMBER_DIGITS_PATTERN_ = new RegExp(RFC3966_GLOBAL_NUMBER_DIGITS_, 'g');\n\n  // In this port of Google's library, we don't accept alpha characters in phone numbers.\n  // const ALPHANUM_ = VALID_ALPHA_ + VALID_DIGITS\n  var ALPHANUM_ = _constantsJs.VALID_DIGITS;\n  var RFC3966_DOMAINLABEL_ = '[' + ALPHANUM_ + ']+((\\\\-)*[' + ALPHANUM_ + '])*';\n  var VALID_ALPHA_ = 'a-zA-Z';\n  var RFC3966_TOPLABEL_ = '[' + VALID_ALPHA_ + ']+((\\\\-)*[' + ALPHANUM_ + '])*';\n  var RFC3966_DOMAINNAME_ = '^(' + RFC3966_DOMAINLABEL_ + '\\\\.)*' + RFC3966_TOPLABEL_ + '\\\\.?$';\n\n  /**\r\n   * Regular expression of valid domainname for the phone-context parameter,\r\n   * following the syntax defined in RFC3966.\r\n   */\n  var RFC3966_DOMAINNAME_PATTERN_ = new RegExp(RFC3966_DOMAINNAME_, 'g');\n  var RFC3966_PREFIX_ = 'tel:';\n  var RFC3966_PHONE_CONTEXT_ = ';phone-context=';\n  var RFC3966_ISDN_SUBADDRESS_ = ';isub=';\n\n  /**\r\n   * Extracts the value of the phone-context parameter of `numberToExtractFrom`,\r\n   * following the syntax defined in RFC3966.\r\n   *\r\n   * @param {string} numberToExtractFrom\r\n   * @return {string|null} the extracted string (possibly empty), or `null` if no phone-context parameter is found.\r\n   */\n  function extractPhoneContext(numberToExtractFrom) {\n    var indexOfPhoneContext = numberToExtractFrom.indexOf(RFC3966_PHONE_CONTEXT_);\n    // If no phone-context parameter is present\n    if (indexOfPhoneContext < 0) {\n      return null;\n    }\n    var phoneContextStart = indexOfPhoneContext + RFC3966_PHONE_CONTEXT_.length;\n    // If phone-context parameter is empty\n    if (phoneContextStart >= numberToExtractFrom.length) {\n      return '';\n    }\n    var phoneContextEnd = numberToExtractFrom.indexOf(';', phoneContextStart);\n    // If phone-context is not the last parameter\n    if (phoneContextEnd >= 0) {\n      return numberToExtractFrom.substring(phoneContextStart, phoneContextEnd);\n    } else {\n      return numberToExtractFrom.substring(phoneContextStart);\n    }\n  }\n\n  /**\r\n   * Returns whether the value of phoneContext follows the syntax defined in RFC3966.\r\n   *\r\n   * @param {string|null} phoneContext\r\n   * @return {boolean}\r\n   */\n  function isPhoneContextValid(phoneContext) {\n    if (phoneContext === null) {\n      return true;\n    }\n    if (phoneContext.length === 0) {\n      return false;\n    }\n\n    // Does phone-context value match pattern of global-number-digits or domainname.\n    return RFC3966_GLOBAL_NUMBER_DIGITS_PATTERN_.test(phoneContext) || RFC3966_DOMAINNAME_PATTERN_.test(phoneContext);\n  }\n});","lineCount":117,"map":[[7,2,45,15,"Object"],[7,8,45,15],[7,9,45,15,"defineProperty"],[7,23,45,15],[7,24,45,15,"exports"],[7,31,45,15],[8,4,45,15,"enumerable"],[8,14,45,15],[9,4,45,15,"get"],[9,7,45,15],[9,18,45,15,"get"],[9,19,45,15],[10,6,45,15],[10,13,45,15,"extractPhoneContext"],[10,32,45,15],[11,4,45,15],[12,2,45,15],[13,2,10,0,"Object"],[13,8,10,0],[13,9,10,0,"defineProperty"],[13,23,10,0],[13,24,10,0,"exports"],[13,31,10,0],[14,4,10,0,"enumerable"],[14,14,10,0],[15,4,10,0,"get"],[15,7,10,0],[15,18,10,0,"get"],[15,19,10,0],[16,6,10,0],[16,13,10,0,"PLUS_SIGN"],[16,22,10,0],[17,4,10,0],[18,2,10,0],[19,2,34,0,"Object"],[19,8,34,0],[19,9,34,0,"defineProperty"],[19,23,34,0],[19,24,34,0,"exports"],[19,31,34,0],[20,4,34,0,"enumerable"],[20,14,34,0],[21,4,34,0,"get"],[21,7,34,0],[21,18,34,0,"get"],[21,19,34,0],[22,6,34,0],[22,13,34,0,"RFC3966_PREFIX_"],[22,28,34,0],[23,4,34,0],[24,2,34,0],[25,2,35,0,"Object"],[25,8,35,0],[25,9,35,0,"defineProperty"],[25,23,35,0],[25,24,35,0,"exports"],[25,31,35,0],[26,4,35,0,"enumerable"],[26,14,35,0],[27,4,35,0,"get"],[27,7,35,0],[27,18,35,0,"get"],[27,19,35,0],[28,6,35,0],[28,13,35,0,"RFC3966_PHONE_CONTEXT_"],[28,35,35,0],[29,4,35,0],[30,2,35,0],[31,2,36,0,"Object"],[31,8,36,0],[31,9,36,0,"defineProperty"],[31,23,36,0],[31,24,36,0,"exports"],[31,31,36,0],[32,4,36,0,"enumerable"],[32,14,36,0],[33,4,36,0,"get"],[33,7,36,0],[33,18,36,0,"get"],[33,19,36,0],[34,6,36,0],[34,13,36,0,"RFC3966_ISDN_SUBADDRESS_"],[34,37,36,0],[35,4,36,0],[36,2,36,0],[37,2,71,0,"exports"],[37,9,71,0],[37,10,71,0,"isPhoneContextValid"],[37,29,71,0],[37,32,71,0,"isPhoneContextValid"],[37,51,71,0],[38,2,7,0],[38,6,7,0,"_constantsJs"],[38,18,7,0],[38,21,7,0,"require"],[38,28,7,0],[38,29,7,0,"_dependencyMap"],[38,43,7,0],[39,2,1,0],[40,2,2,0],[41,2,3,0],[42,2,4,0],[43,2,5,0],[45,2,10,7],[45,6,10,11,"PLUS_SIGN"],[45,15,10,20],[45,18,10,23],[45,21,10,26],[46,2,11,0],[46,6,11,4,"RFC3966_VISUAL_SEPARATOR_"],[46,31,11,29],[46,34,11,32],[46,51,11,49],[47,2,12,0],[47,6,12,4,"RFC3966_PHONE_DIGIT_"],[47,26,12,24],[47,29,12,27],[47,32,12,30],[47,35,12,33],[47,38,12,36],[47,41,12,39,"VALID_DIGITS"],[47,53,12,51],[47,54,12,51,"VALID_DIGITS"],[47,66,12,51],[47,69,12,54],[47,72,12,57],[47,75,12,60],[47,78,12,63],[47,81,12,66,"RFC3966_VISUAL_SEPARATOR_"],[47,106,12,91],[47,109,12,94],[47,112,12,97],[48,2,13,0],[48,6,13,4,"RFC3966_GLOBAL_NUMBER_DIGITS_"],[48,35,13,33],[48,38,13,36],[48,41,13,39],[48,44,13,42],[48,48,13,46],[48,51,13,49,"PLUS_SIGN"],[48,60,13,58],[48,63,13,61,"RFC3966_PHONE_DIGIT_"],[48,83,13,81],[48,86,13,84],[48,89,13,87],[48,92,13,90],[48,95,13,93],[48,98,13,96,"VALID_DIGITS"],[48,110,13,108],[48,111,13,108,"VALID_DIGITS"],[48,123,13,108],[48,126,13,111],[48,129,13,114],[48,132,13,117,"RFC3966_PHONE_DIGIT_"],[48,152,13,137],[48,155,13,140],[48,158,13,143],[48,161,13,146],[48,164,13,149],[50,2,15,0],[51,0,16,0],[52,0,17,0],[53,0,18,0],[54,2,19,0],[54,6,19,4,"RFC3966_GLOBAL_NUMBER_DIGITS_PATTERN_"],[54,43,19,41],[54,46,19,44],[54,50,19,48,"RegExp"],[54,56,19,54],[54,57,19,55,"RFC3966_GLOBAL_NUMBER_DIGITS_"],[54,86,19,84],[54,88,19,86],[54,91,19,89],[54,92,19,90],[56,2,21,0],[57,2,22,0],[58,2,23,0],[58,6,23,4,"ALPHANUM_"],[58,15,23,13],[58,18,23,16,"VALID_DIGITS"],[58,30,23,28],[58,31,23,28,"VALID_DIGITS"],[58,43,23,28],[59,2,24,0],[59,6,24,4,"RFC3966_DOMAINLABEL_"],[59,26,24,24],[59,29,24,27],[59,32,24,30],[59,35,24,33,"ALPHANUM_"],[59,44,24,42],[59,47,24,45],[59,59,24,57],[59,62,24,60,"ALPHANUM_"],[59,71,24,69],[59,74,24,72],[59,79,24,77],[60,2,25,0],[60,6,25,4,"VALID_ALPHA_"],[60,18,25,16],[60,21,25,19],[60,29,25,27],[61,2,26,0],[61,6,26,4,"RFC3966_TOPLABEL_"],[61,23,26,21],[61,26,26,24],[61,29,26,27],[61,32,26,30,"VALID_ALPHA_"],[61,44,26,42],[61,47,26,45],[61,59,26,57],[61,62,26,60,"ALPHANUM_"],[61,71,26,69],[61,74,26,72],[61,79,26,77],[62,2,27,0],[62,6,27,4,"RFC3966_DOMAINNAME_"],[62,25,27,23],[62,28,27,26],[62,32,27,30],[62,35,27,33,"RFC3966_DOMAINLABEL_"],[62,55,27,53],[62,58,27,56],[62,65,27,63],[62,68,27,66,"RFC3966_TOPLABEL_"],[62,85,27,83],[62,88,27,86],[62,95,27,93],[64,2,29,0],[65,0,30,0],[66,0,31,0],[67,0,32,0],[68,2,33,0],[68,6,33,4,"RFC3966_DOMAINNAME_PATTERN_"],[68,33,33,31],[68,36,33,34],[68,40,33,38,"RegExp"],[68,46,33,44],[68,47,33,45,"RFC3966_DOMAINNAME_"],[68,66,33,64],[68,68,33,66],[68,71,33,69],[68,72,33,70],[69,2,34,7],[69,6,34,11,"RFC3966_PREFIX_"],[69,21,34,26],[69,24,34,29],[69,30,34,35],[70,2,35,7],[70,6,35,11,"RFC3966_PHONE_CONTEXT_"],[70,28,35,33],[70,31,35,36],[70,48,35,53],[71,2,36,7],[71,6,36,11,"RFC3966_ISDN_SUBADDRESS_"],[71,30,36,35],[71,33,36,38],[71,41,36,46],[73,2,38,0],[74,0,39,0],[75,0,40,0],[76,0,41,0],[77,0,42,0],[78,0,43,0],[79,0,44,0],[80,2,45,15],[80,11,45,24,"extractPhoneContext"],[80,30,45,43,"extractPhoneContext"],[80,31,45,44,"numberToExtractFrom"],[80,50,45,63],[80,52,45,65],[81,4,46,2],[81,8,46,6,"indexOfPhoneContext"],[81,27,46,25],[81,30,46,28,"numberToExtractFrom"],[81,49,46,47],[81,50,46,48,"indexOf"],[81,57,46,55],[81,58,46,56,"RFC3966_PHONE_CONTEXT_"],[81,80,46,78],[81,81,46,79],[82,4,47,2],[83,4,48,2],[83,8,48,6,"indexOfPhoneContext"],[83,27,48,25],[83,30,48,28],[83,31,48,29],[83,33,48,31],[84,6,49,4],[84,13,49,11],[84,17,49,15],[85,4,50,2],[86,4,51,2],[86,8,51,6,"phoneContextStart"],[86,25,51,23],[86,28,51,26,"indexOfPhoneContext"],[86,47,51,45],[86,50,51,48,"RFC3966_PHONE_CONTEXT_"],[86,72,51,70],[86,73,51,71,"length"],[86,79,51,77],[87,4,52,2],[88,4,53,2],[88,8,53,6,"phoneContextStart"],[88,25,53,23],[88,29,53,27,"numberToExtractFrom"],[88,48,53,46],[88,49,53,47,"length"],[88,55,53,53],[88,57,53,55],[89,6,54,4],[89,13,54,11],[89,15,54,13],[90,4,55,2],[91,4,56,2],[91,8,56,6,"phoneContextEnd"],[91,23,56,21],[91,26,56,24,"numberToExtractFrom"],[91,45,56,43],[91,46,56,44,"indexOf"],[91,53,56,51],[91,54,56,52],[91,57,56,55],[91,59,56,57,"phoneContextStart"],[91,76,56,74],[91,77,56,75],[92,4,57,2],[93,4,58,2],[93,8,58,6,"phoneContextEnd"],[93,23,58,21],[93,27,58,25],[93,28,58,26],[93,30,58,28],[94,6,59,4],[94,13,59,11,"numberToExtractFrom"],[94,32,59,30],[94,33,59,31,"substring"],[94,42,59,40],[94,43,59,41,"phoneContextStart"],[94,60,59,58],[94,62,59,60,"phoneContextEnd"],[94,77,59,75],[94,78,59,76],[95,4,60,2],[95,5,60,3],[95,11,60,9],[96,6,61,4],[96,13,61,11,"numberToExtractFrom"],[96,32,61,30],[96,33,61,31,"substring"],[96,42,61,40],[96,43,61,41,"phoneContextStart"],[96,60,61,58],[96,61,61,59],[97,4,62,2],[98,2,63,0],[100,2,65,0],[101,0,66,0],[102,0,67,0],[103,0,68,0],[104,0,69,0],[105,0,70,0],[106,2,71,7],[106,11,71,16,"isPhoneContextValid"],[106,30,71,35,"isPhoneContextValid"],[106,31,71,36,"phoneContext"],[106,43,71,48],[106,45,71,50],[107,4,72,2],[107,8,72,6,"phoneContext"],[107,20,72,18],[107,25,72,23],[107,29,72,27],[107,31,72,29],[108,6,73,4],[108,13,73,11],[108,17,73,15],[109,4,74,2],[110,4,75,2],[110,8,75,6,"phoneContext"],[110,20,75,18],[110,21,75,19,"length"],[110,27,75,25],[110,32,75,30],[110,33,75,31],[110,35,75,33],[111,6,76,4],[111,13,76,11],[111,18,76,16],[112,4,77,2],[114,4,79,2],[115,4,80,2],[115,11,80,9,"RFC3966_GLOBAL_NUMBER_DIGITS_PATTERN_"],[115,48,80,46],[115,49,80,47,"test"],[115,53,80,51],[115,54,80,52,"phoneContext"],[115,66,80,64],[115,67,80,65],[115,71,80,69,"RFC3966_DOMAINNAME_PATTERN_"],[115,98,80,96],[115,99,80,97,"test"],[115,103,80,101],[115,104,80,102,"phoneContext"],[115,116,80,114],[115,117,80,115],[116,2,81,0],[117,0,81,1],[117,3]],"functionMap":{"names":["<global>","extractPhoneContext","isPhoneContextValid"],"mappings":"AAA;eC4C;CDkB;OEQ;CFU"},"hasCjsExports":false},"type":"js/module"}]}